{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { ListCollection } from '@zag-js/collection';\nimport { raf, getInitialFocus, observeAttributes, trackFormControl, getByTypeahead, scrollIntoView, isSelfTarget, isValidTabEvent, getEventKey, getEventTarget, isEditableElement, visuallyHiddenStyle, dataAttr, ariaAttr } from '@zag-js/dom-query';\nimport { getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { addOrRemove, isEqual, createSplitProps, ensure } from '@zag-js/utils';\nimport { createGuards, createMachine } from '@zag-js/core';\nimport { trackDismissableElement } from '@zag-js/dismissable';\nimport { createProps } from '@zag-js/types';\n\n// src/select.anatomy.ts\nvar anatomy = createAnatomy(\"select\").parts(\"label\", \"positioner\", \"trigger\", \"indicator\", \"clearTrigger\", \"item\", \"itemText\", \"itemIndicator\", \"itemGroup\", \"itemGroupLabel\", \"list\", \"content\", \"root\", \"control\", \"valueText\");\nvar parts = anatomy.build();\nvar collection = options => {\n  return new ListCollection(options);\n};\ncollection.empty = () => {\n  return new ListCollection({\n    items: []\n  });\n};\n\n// src/select.dom.ts\nvar getRootId = ctx => ctx.ids?.root ?? `select:${ctx.id}`;\nvar getContentId = ctx => ctx.ids?.content ?? `select:${ctx.id}:content`;\nvar getTriggerId = ctx => ctx.ids?.trigger ?? `select:${ctx.id}:trigger`;\nvar getClearTriggerId = ctx => ctx.ids?.clearTrigger ?? `select:${ctx.id}:clear-trigger`;\nvar getLabelId = ctx => ctx.ids?.label ?? `select:${ctx.id}:label`;\nvar getControlId = ctx => ctx.ids?.control ?? `select:${ctx.id}:control`;\nvar getItemId = (ctx, id) => ctx.ids?.item?.(id) ?? `select:${ctx.id}:option:${id}`;\nvar getHiddenSelectId = ctx => ctx.ids?.hiddenSelect ?? `select:${ctx.id}:select`;\nvar getPositionerId = ctx => ctx.ids?.positioner ?? `select:${ctx.id}:positioner`;\nvar getItemGroupId = (ctx, id) => ctx.ids?.itemGroup?.(id) ?? `select:${ctx.id}:optgroup:${id}`;\nvar getItemGroupLabelId = (ctx, id) => ctx.ids?.itemGroupLabel?.(id) ?? `select:${ctx.id}:optgroup-label:${id}`;\nvar getHiddenSelectEl = ctx => ctx.getById(getHiddenSelectId(ctx));\nvar getContentEl = ctx => ctx.getById(getContentId(ctx));\nvar getTriggerEl = ctx => ctx.getById(getTriggerId(ctx));\nvar getClearTriggerEl = ctx => ctx.getById(getClearTriggerId(ctx));\nvar getPositionerEl = ctx => ctx.getById(getPositionerId(ctx));\nvar getItemEl = (ctx, id) => ctx.getById(getItemId(ctx, id));\n\n// src/select.connect.ts\nfunction connect(service, normalize) {\n  const {\n    context,\n    prop,\n    scope,\n    state,\n    computed,\n    send\n  } = service;\n  const disabled = prop(\"disabled\") || context.get(\"fieldsetDisabled\");\n  const invalid = prop(\"invalid\");\n  const readOnly = prop(\"readOnly\");\n  const composite = prop(\"composite\");\n  const collection2 = prop(\"collection\");\n  const open = state.hasTag(\"open\");\n  const focused = state.matches(\"focused\");\n  const highlightedValue = context.get(\"highlightedValue\");\n  const highlightedItem = context.get(\"highlightedItem\");\n  const selectedItems = context.get(\"selectedItems\");\n  const currentPlacement = context.get(\"currentPlacement\");\n  const isTypingAhead = computed(\"isTypingAhead\");\n  const interactive = computed(\"isInteractive\");\n  const ariaActiveDescendant = highlightedValue ? getItemId(scope, highlightedValue) : void 0;\n  function getItemState(props2) {\n    const _disabled = collection2.getItemDisabled(props2.item);\n    const value = collection2.getItemValue(props2.item);\n    ensure(value, () => `[zag-js] No value found for item ${JSON.stringify(props2.item)}`);\n    return {\n      value,\n      disabled: Boolean(disabled || _disabled),\n      highlighted: highlightedValue === value,\n      selected: context.get(\"value\").includes(value)\n    };\n  }\n  const popperStyles = getPlacementStyles({\n    ...prop(\"positioning\"),\n    placement: currentPlacement\n  });\n  return {\n    open,\n    focused,\n    empty: context.get(\"value\").length === 0,\n    highlightedItem,\n    highlightedValue,\n    selectedItems,\n    hasSelectedItems: computed(\"hasSelectedItems\"),\n    value: context.get(\"value\"),\n    valueAsString: computed(\"valueAsString\"),\n    collection: collection2,\n    multiple: !!prop(\"multiple\"),\n    disabled: !!disabled,\n    reposition(options = {}) {\n      send({\n        type: \"POSITIONING.SET\",\n        options\n      });\n    },\n    focus() {\n      getTriggerEl(scope)?.focus({\n        preventScroll: true\n      });\n    },\n    setOpen(nextOpen) {\n      const open2 = state.hasTag(\"open\");\n      if (open2 === nextOpen) return;\n      send({\n        type: nextOpen ? \"OPEN\" : \"CLOSE\"\n      });\n    },\n    selectValue(value) {\n      send({\n        type: \"ITEM.SELECT\",\n        value\n      });\n    },\n    setValue(value) {\n      send({\n        type: \"VALUE.SET\",\n        value\n      });\n    },\n    selectAll() {\n      send({\n        type: \"VALUE.SET\",\n        value: collection2.getValues()\n      });\n    },\n    setHighlightValue(value) {\n      send({\n        type: \"HIGHLIGHTED_VALUE.SET\",\n        value\n      });\n    },\n    clearHighlightValue() {\n      send({\n        type: \"HIGHLIGHTED_VALUE.CLEAR\"\n      });\n    },\n    clearValue(value) {\n      if (value) {\n        send({\n          type: \"ITEM.CLEAR\",\n          value\n        });\n      } else {\n        send({\n          type: \"VALUE.CLEAR\"\n        });\n      }\n    },\n    getItemState,\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: prop(\"dir\"),\n        id: getRootId(scope),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        dir: prop(\"dir\"),\n        id: getLabelId(scope),\n        ...parts.label.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        htmlFor: getHiddenSelectId(scope),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (disabled) return;\n          getTriggerEl(scope)?.focus({\n            preventScroll: true\n          });\n        }\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: prop(\"dir\"),\n        id: getControlId(scope),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid)\n      });\n    },\n    getValueTextProps() {\n      return normalize.element({\n        ...parts.valueText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused)\n      });\n    },\n    getTriggerProps() {\n      return normalize.button({\n        id: getTriggerId(scope),\n        disabled,\n        dir: prop(\"dir\"),\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": getContentId(scope),\n        \"aria-expanded\": open,\n        \"aria-haspopup\": \"listbox\",\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-invalid\": invalid,\n        \"aria-labelledby\": getLabelId(scope),\n        ...parts.trigger.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-placement\": currentPlacement,\n        \"data-placeholder-shown\": dataAttr(!computed(\"hasSelectedItems\")),\n        onClick(event) {\n          if (!interactive) return;\n          if (event.defaultPrevented) return;\n          send({\n            type: \"TRIGGER.CLICK\"\n          });\n        },\n        onFocus() {\n          send({\n            type: \"TRIGGER.FOCUS\"\n          });\n        },\n        onBlur() {\n          send({\n            type: \"TRIGGER.BLUR\"\n          });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          const keyMap = {\n            ArrowUp() {\n              send({\n                type: \"TRIGGER.ARROW_UP\"\n              });\n            },\n            ArrowDown(event2) {\n              send({\n                type: event2.altKey ? \"OPEN\" : \"TRIGGER.ARROW_DOWN\"\n              });\n            },\n            ArrowLeft() {\n              send({\n                type: \"TRIGGER.ARROW_LEFT\"\n              });\n            },\n            ArrowRight() {\n              send({\n                type: \"TRIGGER.ARROW_RIGHT\"\n              });\n            },\n            Home() {\n              send({\n                type: \"TRIGGER.HOME\"\n              });\n            },\n            End() {\n              send({\n                type: \"TRIGGER.END\"\n              });\n            },\n            Enter() {\n              send({\n                type: \"TRIGGER.ENTER\"\n              });\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({\n                  type: \"TRIGGER.TYPEAHEAD\",\n                  key: event2.key\n                });\n              } else {\n                send({\n                  type: \"TRIGGER.ENTER\"\n                });\n              }\n            }\n          };\n          const exec = keyMap[getEventKey(event, {\n            dir: prop(\"dir\"),\n            orientation: \"vertical\"\n          })];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            return;\n          }\n          if (getByTypeahead.isValidEvent(event)) {\n            send({\n              type: \"TRIGGER.TYPEAHEAD\",\n              key: event.key\n            });\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: prop(\"dir\"),\n        \"aria-hidden\": true,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly)\n      });\n    },\n    getItemProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        id: getItemId(scope, itemState.value),\n        role: \"option\",\n        ...parts.item.attrs,\n        dir: prop(\"dir\"),\n        \"data-value\": itemState.value,\n        \"aria-selected\": itemState.selected,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"aria-disabled\": ariaAttr(itemState.disabled),\n        onPointerMove(event) {\n          if (itemState.disabled || event.pointerType !== \"mouse\") return;\n          if (itemState.value === highlightedValue) return;\n          send({\n            type: \"ITEM.POINTER_MOVE\",\n            value: itemState.value\n          });\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (itemState.disabled) return;\n          send({\n            type: \"ITEM.CLICK\",\n            src: \"pointerup\",\n            value: itemState.value\n          });\n        },\n        onPointerLeave(event) {\n          if (itemState.disabled) return;\n          if (props2.persistFocus) return;\n          if (event.pointerType !== \"mouse\") return;\n          const pointerMoved = service.event.previous()?.type.includes(\"POINTER\");\n          if (!pointerMoved) return;\n          send({\n            type: \"ITEM.POINTER_LEAVE\"\n          });\n        }\n      });\n    },\n    getItemTextProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted)\n      });\n    },\n    getItemIndicatorProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.selected\n      });\n    },\n    getItemGroupLabelProps(props2) {\n      const {\n        htmlFor\n      } = props2;\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        id: getItemGroupLabelId(scope, htmlFor),\n        dir: prop(\"dir\"),\n        role: \"presentation\"\n      });\n    },\n    getItemGroupProps(props2) {\n      const {\n        id\n      } = props2;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        id: getItemGroupId(scope, id),\n        \"aria-labelledby\": getItemGroupLabelId(scope, id),\n        role: \"group\",\n        dir: prop(\"dir\")\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        id: getClearTriggerId(scope),\n        type: \"button\",\n        \"aria-label\": \"Clear value\",\n        \"data-invalid\": dataAttr(invalid),\n        disabled,\n        hidden: !computed(\"hasSelectedItems\"),\n        dir: prop(\"dir\"),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          send({\n            type: \"CLEAR.CLICK\"\n          });\n        }\n      });\n    },\n    getHiddenSelectProps() {\n      const value = context.get(\"value\");\n      const defaultValue = prop(\"multiple\") ? value : value?.[0];\n      return normalize.select({\n        name: prop(\"name\"),\n        form: prop(\"form\"),\n        disabled,\n        multiple: prop(\"multiple\"),\n        required: prop(\"required\"),\n        \"aria-hidden\": true,\n        id: getHiddenSelectId(scope),\n        defaultValue,\n        style: visuallyHiddenStyle,\n        tabIndex: -1,\n        // Some browser extensions will focus the hidden select.\n        // Let's forward the focus to the trigger.\n        onFocus() {\n          getTriggerEl(scope)?.focus({\n            preventScroll: true\n          });\n        },\n        \"aria-labelledby\": getLabelId(scope)\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        style: popperStyles.floating\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        hidden: !open,\n        dir: prop(\"dir\"),\n        id: getContentId(scope),\n        role: composite ? \"listbox\" : \"dialog\",\n        ...parts.content.attrs,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": currentPlacement,\n        \"data-activedescendant\": ariaActiveDescendant,\n        \"aria-activedescendant\": composite ? ariaActiveDescendant : void 0,\n        \"aria-multiselectable\": prop(\"multiple\") && composite ? true : void 0,\n        \"aria-labelledby\": getLabelId(scope),\n        tabIndex: 0,\n        onKeyDown(event) {\n          if (!interactive) return;\n          if (!isSelfTarget(event)) return;\n          if (event.key === \"Tab\") {\n            const valid = isValidTabEvent(event);\n            if (!valid) {\n              event.preventDefault();\n              return;\n            }\n          }\n          const keyMap = {\n            ArrowUp() {\n              send({\n                type: \"CONTENT.ARROW_UP\"\n              });\n            },\n            ArrowDown() {\n              send({\n                type: \"CONTENT.ARROW_DOWN\"\n              });\n            },\n            Home() {\n              send({\n                type: \"CONTENT.HOME\"\n              });\n            },\n            End() {\n              send({\n                type: \"CONTENT.END\"\n              });\n            },\n            Enter() {\n              send({\n                type: \"ITEM.CLICK\",\n                src: \"keydown.enter\"\n              });\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({\n                  type: \"CONTENT.TYPEAHEAD\",\n                  key: event2.key\n                });\n              } else {\n                keyMap.Enter?.(event2);\n              }\n            }\n          };\n          const exec = keyMap[getEventKey(event)];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            return;\n          }\n          const target = getEventTarget(event);\n          if (isEditableElement(target)) {\n            return;\n          }\n          if (getByTypeahead.isValidEvent(event)) {\n            send({\n              type: \"CONTENT.TYPEAHEAD\",\n              key: event.key\n            });\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        tabIndex: 0,\n        role: !composite ? \"listbox\" : void 0,\n        \"aria-labelledby\": getTriggerId(scope),\n        \"aria-activedescendant\": !composite ? ariaActiveDescendant : void 0,\n        \"aria-multiselectable\": !composite && prop(\"multiple\") ? true : void 0\n      });\n    }\n  };\n}\nvar {\n  and,\n  not,\n  or\n} = createGuards();\nvar machine = createMachine({\n  props({\n    props: props2\n  }) {\n    return {\n      loopFocus: false,\n      closeOnSelect: !props2.multiple,\n      composite: true,\n      defaultValue: [],\n      ...props2,\n      collection: props2.collection ?? collection.empty(),\n      positioning: {\n        placement: \"bottom-start\",\n        gutter: 8,\n        ...props2.positioning\n      }\n    };\n  },\n  context({\n    prop,\n    bindable\n  }) {\n    return {\n      value: bindable(() => ({\n        defaultValue: prop(\"defaultValue\"),\n        value: prop(\"value\"),\n        isEqual,\n        onChange(value) {\n          const items = prop(\"collection\").findMany(value);\n          return prop(\"onValueChange\")?.({\n            value,\n            items\n          });\n        }\n      })),\n      highlightedValue: bindable(() => ({\n        defaultValue: prop(\"defaultHighlightedValue\") || null,\n        value: prop(\"highlightedValue\"),\n        onChange(value) {\n          prop(\"onHighlightChange\")?.({\n            highlightedValue: value,\n            highlightedItem: prop(\"collection\").find(value),\n            highlightedIndex: prop(\"collection\").indexOf(value)\n          });\n        }\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      })),\n      fieldsetDisabled: bindable(() => ({\n        defaultValue: false\n      })),\n      highlightedItem: bindable(() => ({\n        defaultValue: null\n      })),\n      selectedItems: bindable(() => {\n        const value = prop(\"value\") ?? prop(\"defaultValue\") ?? [];\n        const items = prop(\"collection\").findMany(value);\n        return {\n          defaultValue: items\n        };\n      })\n    };\n  },\n  refs() {\n    return {\n      typeahead: {\n        ...getByTypeahead.defaultOptions\n      }\n    };\n  },\n  computed: {\n    hasSelectedItems: ({\n      context\n    }) => context.get(\"value\").length > 0,\n    isTypingAhead: ({\n      refs\n    }) => refs.get(\"typeahead\").keysSoFar !== \"\",\n    isDisabled: ({\n      prop,\n      context\n    }) => !!prop(\"disabled\") || !!context.get(\"fieldsetDisabled\"),\n    isInteractive: ({\n      prop\n    }) => !(prop(\"disabled\") || prop(\"readOnly\")),\n    valueAsString: ({\n      context,\n      prop\n    }) => prop(\"collection\").stringifyItems(context.get(\"selectedItems\"))\n  },\n  initialState({\n    prop\n  }) {\n    const open = prop(\"open\") || prop(\"defaultOpen\");\n    return open ? \"open\" : \"idle\";\n  },\n  entry: [\"syncSelectElement\"],\n  watch({\n    context,\n    prop,\n    track,\n    action\n  }) {\n    track([() => context.get(\"value\").toString()], () => {\n      action([\"syncSelectedItems\", \"syncSelectElement\", \"dispatchChangeEvent\"]);\n    });\n    track([() => prop(\"open\")], () => {\n      action([\"toggleVisibility\"]);\n    });\n    track([() => context.get(\"highlightedValue\")], () => {\n      action([\"syncHighlightedItem\"]);\n    });\n    track([() => prop(\"collection\").toString()], () => {\n      action([\"syncCollection\"]);\n    });\n  },\n  on: {\n    \"HIGHLIGHTED_VALUE.SET\": {\n      actions: [\"setHighlightedItem\"]\n    },\n    \"HIGHLIGHTED_VALUE.CLEAR\": {\n      actions: [\"clearHighlightedItem\"]\n    },\n    \"ITEM.SELECT\": {\n      actions: [\"selectItem\"]\n    },\n    \"ITEM.CLEAR\": {\n      actions: [\"clearItem\"]\n    },\n    \"VALUE.SET\": {\n      actions: [\"setSelectedItems\"]\n    },\n    \"VALUE.CLEAR\": {\n      actions: [\"clearSelectedItems\"]\n    },\n    \"CLEAR.CLICK\": {\n      actions: [\"clearSelectedItems\", \"focusTriggerEl\"]\n    }\n  },\n  effects: [\"trackFormControlState\"],\n  states: {\n    idle: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": [{\n          guard: \"isTriggerClickEvent\",\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\"]\n        }],\n        \"TRIGGER.CLICK\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"invokeOnOpen\", \"setInitialFocus\", \"highlightFirstSelectedItem\"]\n        }],\n        \"TRIGGER.FOCUS\": {\n          target: \"focused\"\n        },\n        OPEN: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n        }]\n      }\n    },\n    focused: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": [{\n          guard: \"isTriggerClickEvent\",\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\"]\n        }, {\n          guard: \"isTriggerArrowUpEvent\",\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"highlightComputedLastItem\"]\n        }, {\n          guard: or(\"isTriggerArrowDownEvent\", \"isTriggerEnterEvent\"),\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"highlightComputedFirstItem\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\"]\n        }],\n        OPEN: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n        }],\n        \"TRIGGER.BLUR\": {\n          target: \"idle\"\n        },\n        \"TRIGGER.CLICK\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightFirstSelectedItem\"]\n        }],\n        \"TRIGGER.ENTER\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedFirstItem\"]\n        }],\n        \"TRIGGER.ARROW_UP\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedLastItem\"]\n        }],\n        \"TRIGGER.ARROW_DOWN\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnOpen\"]\n        }, {\n          target: \"open\",\n          actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedFirstItem\"]\n        }],\n        \"TRIGGER.ARROW_LEFT\": [{\n          guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n          actions: [\"selectPreviousItem\"]\n        }, {\n          guard: not(\"multiple\"),\n          actions: [\"selectLastItem\"]\n        }],\n        \"TRIGGER.ARROW_RIGHT\": [{\n          guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n          actions: [\"selectNextItem\"]\n        }, {\n          guard: not(\"multiple\"),\n          actions: [\"selectFirstItem\"]\n        }],\n        \"TRIGGER.HOME\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectFirstItem\"]\n        },\n        \"TRIGGER.END\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectLastItem\"]\n        },\n        \"TRIGGER.TYPEAHEAD\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectMatchingItem\"]\n        }\n      }\n    },\n    open: {\n      tags: [\"open\"],\n      exit: [\"scrollContentToTop\"],\n      effects: [\"trackDismissableElement\", \"computePlacement\", \"scrollToHighlightedItem\"],\n      on: {\n        \"CONTROLLED.CLOSE\": [{\n          guard: \"restoreFocus\",\n          target: \"focused\",\n          actions: [\"focusTriggerEl\", \"clearHighlightedItem\"]\n        }, {\n          target: \"idle\",\n          actions: [\"clearHighlightedItem\"]\n        }],\n        CLOSE: [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnClose\"]\n        }, {\n          guard: \"restoreFocus\",\n          target: \"focused\",\n          actions: [\"invokeOnClose\", \"focusTriggerEl\", \"clearHighlightedItem\"]\n        }, {\n          target: \"idle\",\n          actions: [\"invokeOnClose\", \"clearHighlightedItem\"]\n        }],\n        \"TRIGGER.CLICK\": [{\n          guard: \"isOpenControlled\",\n          actions: [\"invokeOnClose\"]\n        }, {\n          target: \"focused\",\n          actions: [\"invokeOnClose\", \"clearHighlightedItem\"]\n        }],\n        \"ITEM.CLICK\": [{\n          guard: and(\"closeOnSelect\", \"isOpenControlled\"),\n          actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n        }, {\n          guard: \"closeOnSelect\",\n          target: \"focused\",\n          actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"focusTriggerEl\", \"clearHighlightedItem\"]\n        }, {\n          actions: [\"selectHighlightedItem\"]\n        }],\n        \"CONTENT.HOME\": {\n          actions: [\"highlightFirstItem\"]\n        },\n        \"CONTENT.END\": {\n          actions: [\"highlightLastItem\"]\n        },\n        \"CONTENT.ARROW_DOWN\": [{\n          guard: and(\"hasHighlightedItem\", \"loop\", \"isLastItemHighlighted\"),\n          actions: [\"highlightFirstItem\"]\n        }, {\n          guard: \"hasHighlightedItem\",\n          actions: [\"highlightNextItem\"]\n        }, {\n          actions: [\"highlightFirstItem\"]\n        }],\n        \"CONTENT.ARROW_UP\": [{\n          guard: and(\"hasHighlightedItem\", \"loop\", \"isFirstItemHighlighted\"),\n          actions: [\"highlightLastItem\"]\n        }, {\n          guard: \"hasHighlightedItem\",\n          actions: [\"highlightPreviousItem\"]\n        }, {\n          actions: [\"highlightLastItem\"]\n        }],\n        \"CONTENT.TYPEAHEAD\": {\n          actions: [\"highlightMatchingItem\"]\n        },\n        \"ITEM.POINTER_MOVE\": {\n          actions: [\"highlightItem\"]\n        },\n        \"ITEM.POINTER_LEAVE\": {\n          actions: [\"clearHighlightedItem\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      loop: ({\n        prop\n      }) => !!prop(\"loopFocus\"),\n      multiple: ({\n        prop\n      }) => !!prop(\"multiple\"),\n      hasSelectedItems: ({\n        computed\n      }) => !!computed(\"hasSelectedItems\"),\n      hasHighlightedItem: ({\n        context\n      }) => context.get(\"highlightedValue\") != null,\n      isFirstItemHighlighted: ({\n        context,\n        prop\n      }) => context.get(\"highlightedValue\") === prop(\"collection\").firstValue,\n      isLastItemHighlighted: ({\n        context,\n        prop\n      }) => context.get(\"highlightedValue\") === prop(\"collection\").lastValue,\n      closeOnSelect: ({\n        prop,\n        event\n      }) => !!(event.closeOnSelect ?? prop(\"closeOnSelect\")),\n      restoreFocus: ({\n        event\n      }) => restoreFocusFn(event),\n      // guard assertions (for controlled mode)\n      isOpenControlled: ({\n        prop\n      }) => prop(\"open\") !== void 0,\n      isTriggerClickEvent: ({\n        event\n      }) => event.previousEvent?.type === \"TRIGGER.CLICK\",\n      isTriggerEnterEvent: ({\n        event\n      }) => event.previousEvent?.type === \"TRIGGER.ENTER\",\n      isTriggerArrowUpEvent: ({\n        event\n      }) => event.previousEvent?.type === \"TRIGGER.ARROW_UP\",\n      isTriggerArrowDownEvent: ({\n        event\n      }) => event.previousEvent?.type === \"TRIGGER.ARROW_DOWN\"\n    },\n    effects: {\n      trackFormControlState({\n        context,\n        scope\n      }) {\n        return trackFormControl(getHiddenSelectEl(scope), {\n          onFieldsetDisabledChange(disabled) {\n            context.set(\"fieldsetDisabled\", disabled);\n          },\n          onFormReset() {\n            const value = context.initial(\"value\");\n            context.set(\"value\", value);\n          }\n        });\n      },\n      trackDismissableElement({\n        scope,\n        send,\n        prop\n      }) {\n        const contentEl = () => getContentEl(scope);\n        let restoreFocus = true;\n        return trackDismissableElement(contentEl, {\n          defer: true,\n          exclude: [getTriggerEl(scope), getClearTriggerEl(scope)],\n          onFocusOutside: prop(\"onFocusOutside\"),\n          onPointerDownOutside: prop(\"onPointerDownOutside\"),\n          onInteractOutside(event) {\n            prop(\"onInteractOutside\")?.(event);\n            restoreFocus = !(event.detail.focusable || event.detail.contextmenu);\n          },\n          onDismiss() {\n            send({\n              type: \"CLOSE\",\n              src: \"interact-outside\",\n              restoreFocus\n            });\n          }\n        });\n      },\n      computePlacement({\n        context,\n        prop,\n        scope\n      }) {\n        const positioning = prop(\"positioning\");\n        context.set(\"currentPlacement\", positioning.placement);\n        const triggerEl = () => getTriggerEl(scope);\n        const positionerEl = () => getPositionerEl(scope);\n        return getPlacement(triggerEl, positionerEl, {\n          defer: true,\n          ...positioning,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      scrollToHighlightedItem({\n        context,\n        prop,\n        scope,\n        event\n      }) {\n        const exec = immediate => {\n          const highlightedValue = context.get(\"highlightedValue\");\n          if (highlightedValue == null) return;\n          if (event.current().type.includes(\"POINTER\")) return;\n          const optionEl = getItemEl(scope, highlightedValue);\n          const contentEl2 = getContentEl(scope);\n          const scrollToIndexFn = prop(\"scrollToIndexFn\");\n          if (scrollToIndexFn) {\n            const highlightedIndex = prop(\"collection\").indexOf(highlightedValue);\n            scrollToIndexFn?.({\n              index: highlightedIndex,\n              immediate\n            });\n            return;\n          }\n          scrollIntoView(optionEl, {\n            rootEl: contentEl2,\n            block: \"nearest\"\n          });\n        };\n        raf(() => exec(true));\n        const contentEl = () => getContentEl(scope);\n        return observeAttributes(contentEl, {\n          defer: true,\n          attributes: [\"data-activedescendant\"],\n          callback() {\n            exec(false);\n          }\n        });\n      }\n    },\n    actions: {\n      reposition({\n        context,\n        prop,\n        scope,\n        event\n      }) {\n        const positionerEl = () => getPositionerEl(scope);\n        getPlacement(getTriggerEl(scope), positionerEl, {\n          ...prop(\"positioning\"),\n          ...event.options,\n          defer: true,\n          listeners: false,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      toggleVisibility({\n        send,\n        prop,\n        event\n      }) {\n        send({\n          type: prop(\"open\") ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\",\n          previousEvent: event\n        });\n      },\n      highlightPreviousItem({\n        context,\n        prop\n      }) {\n        const highlightedValue = context.get(\"highlightedValue\");\n        if (highlightedValue == null) return;\n        const value = prop(\"collection\").getPreviousValue(highlightedValue, 1, prop(\"loopFocus\"));\n        if (value == null) return;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightNextItem({\n        context,\n        prop\n      }) {\n        const highlightedValue = context.get(\"highlightedValue\");\n        if (highlightedValue == null) return;\n        const value = prop(\"collection\").getNextValue(highlightedValue, 1, prop(\"loopFocus\"));\n        if (value == null) return;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightFirstItem({\n        context,\n        prop\n      }) {\n        const value = prop(\"collection\").firstValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightLastItem({\n        context,\n        prop\n      }) {\n        const value = prop(\"collection\").lastValue;\n        context.set(\"highlightedValue\", value);\n      },\n      setInitialFocus({\n        scope\n      }) {\n        raf(() => {\n          const element = getInitialFocus({\n            root: getContentEl(scope)\n          });\n          element?.focus({\n            preventScroll: true\n          });\n        });\n      },\n      focusTriggerEl({\n        event,\n        scope\n      }) {\n        if (!restoreFocusFn(event)) return;\n        raf(() => {\n          const element = getTriggerEl(scope);\n          element?.focus({\n            preventScroll: true\n          });\n        });\n      },\n      selectHighlightedItem({\n        context,\n        prop,\n        event\n      }) {\n        let value = event.value ?? context.get(\"highlightedValue\");\n        if (value == null || !prop(\"collection\").has(value)) return;\n        prop(\"onSelect\")?.({\n          value\n        });\n        const nullable = prop(\"deselectable\") && !prop(\"multiple\") && context.get(\"value\").includes(value);\n        value = nullable ? null : value;\n        context.set(\"value\", prev => {\n          if (value == null) return [];\n          if (prop(\"multiple\")) return addOrRemove(prev, value);\n          return [value];\n        });\n      },\n      highlightComputedFirstItem({\n        context,\n        prop,\n        computed\n      }) {\n        const collection2 = prop(\"collection\");\n        const value = computed(\"hasSelectedItems\") ? collection2.sort(context.get(\"value\"))[0] : collection2.firstValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightComputedLastItem({\n        context,\n        prop,\n        computed\n      }) {\n        const collection2 = prop(\"collection\");\n        const value = computed(\"hasSelectedItems\") ? collection2.sort(context.get(\"value\"))[0] : collection2.lastValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightFirstSelectedItem({\n        context,\n        prop,\n        computed\n      }) {\n        if (!computed(\"hasSelectedItems\")) return;\n        const value = prop(\"collection\").sort(context.get(\"value\"))[0];\n        context.set(\"highlightedValue\", value);\n      },\n      highlightItem({\n        context,\n        event\n      }) {\n        context.set(\"highlightedValue\", event.value);\n      },\n      highlightMatchingItem({\n        context,\n        prop,\n        event,\n        refs\n      }) {\n        const value = prop(\"collection\").search(event.key, {\n          state: refs.get(\"typeahead\"),\n          currentValue: context.get(\"highlightedValue\")\n        });\n        if (value == null) return;\n        context.set(\"highlightedValue\", value);\n      },\n      setHighlightedItem({\n        context,\n        event\n      }) {\n        context.set(\"highlightedValue\", event.value);\n      },\n      clearHighlightedItem({\n        context\n      }) {\n        context.set(\"highlightedValue\", null);\n      },\n      selectItem({\n        context,\n        prop,\n        event\n      }) {\n        prop(\"onSelect\")?.({\n          value: event.value\n        });\n        const nullable = prop(\"deselectable\") && !prop(\"multiple\") && context.get(\"value\").includes(event.value);\n        const value = nullable ? null : event.value;\n        context.set(\"value\", prev => {\n          if (value == null) return [];\n          if (prop(\"multiple\")) return addOrRemove(prev, value);\n          return [value];\n        });\n      },\n      clearItem({\n        context,\n        event\n      }) {\n        context.set(\"value\", prev => prev.filter(v => v !== event.value));\n      },\n      setSelectedItems({\n        context,\n        event\n      }) {\n        context.set(\"value\", event.value);\n      },\n      clearSelectedItems({\n        context\n      }) {\n        context.set(\"value\", []);\n      },\n      selectPreviousItem({\n        context,\n        prop\n      }) {\n        const [firstItem] = context.get(\"value\");\n        const value = prop(\"collection\").getPreviousValue(firstItem);\n        if (value) context.set(\"value\", [value]);\n      },\n      selectNextItem({\n        context,\n        prop\n      }) {\n        const [firstItem] = context.get(\"value\");\n        const value = prop(\"collection\").getNextValue(firstItem);\n        if (value) context.set(\"value\", [value]);\n      },\n      selectFirstItem({\n        context,\n        prop\n      }) {\n        const value = prop(\"collection\").firstValue;\n        if (value) context.set(\"value\", [value]);\n      },\n      selectLastItem({\n        context,\n        prop\n      }) {\n        const value = prop(\"collection\").lastValue;\n        if (value) context.set(\"value\", [value]);\n      },\n      selectMatchingItem({\n        context,\n        prop,\n        event,\n        refs\n      }) {\n        const value = prop(\"collection\").search(event.key, {\n          state: refs.get(\"typeahead\"),\n          currentValue: context.get(\"value\")[0]\n        });\n        if (value == null) return;\n        context.set(\"value\", [value]);\n      },\n      scrollContentToTop({\n        prop,\n        scope\n      }) {\n        if (prop(\"scrollToIndexFn\")) {\n          prop(\"scrollToIndexFn\")?.({\n            index: 0,\n            immediate: true\n          });\n        } else {\n          getContentEl(scope)?.scrollTo(0, 0);\n        }\n      },\n      invokeOnOpen({\n        prop\n      }) {\n        prop(\"onOpenChange\")?.({\n          open: true\n        });\n      },\n      invokeOnClose({\n        prop\n      }) {\n        prop(\"onOpenChange\")?.({\n          open: false\n        });\n      },\n      syncSelectElement({\n        context,\n        prop,\n        scope\n      }) {\n        const selectEl = getHiddenSelectEl(scope);\n        if (!selectEl) return;\n        if (context.get(\"value\").length === 0 && !prop(\"multiple\")) {\n          selectEl.selectedIndex = -1;\n          return;\n        }\n        for (const option of selectEl.options) {\n          option.selected = context.get(\"value\").includes(option.value);\n        }\n      },\n      syncCollection({\n        context,\n        prop\n      }) {\n        const collection2 = prop(\"collection\");\n        const highlightedItem = collection2.find(context.get(\"highlightedValue\"));\n        if (highlightedItem) context.set(\"highlightedItem\", highlightedItem);\n        const selectedItems = collection2.findMany(context.get(\"value\"));\n        context.set(\"selectedItems\", selectedItems);\n      },\n      syncSelectedItems({\n        context,\n        prop\n      }) {\n        const collection2 = prop(\"collection\");\n        const prevSelectedItems = context.get(\"selectedItems\");\n        const value = context.get(\"value\");\n        const selectedItems = value.map(value2 => {\n          const item = prevSelectedItems.find(item2 => collection2.getItemValue(item2) === value2);\n          return item || collection2.find(value2);\n        });\n        context.set(\"selectedItems\", selectedItems);\n      },\n      syncHighlightedItem({\n        context,\n        prop\n      }) {\n        const collection2 = prop(\"collection\");\n        const highlightedValue = context.get(\"highlightedValue\");\n        const highlightedItem = highlightedValue ? collection2.find(highlightedValue) : null;\n        context.set(\"highlightedItem\", highlightedItem);\n      },\n      dispatchChangeEvent({\n        scope\n      }) {\n        queueMicrotask(() => {\n          const node = getHiddenSelectEl(scope);\n          if (!node) return;\n          const win = scope.getWin();\n          const changeEvent = new win.Event(\"change\", {\n            bubbles: true,\n            composed: true\n          });\n          node.dispatchEvent(changeEvent);\n        });\n      }\n    }\n  }\n});\nfunction restoreFocusFn(event) {\n  const v = event.restoreFocus ?? event.previousEvent?.restoreFocus;\n  return v == null || !!v;\n}\nvar props = createProps()([\"closeOnSelect\", \"collection\", \"composite\", \"defaultHighlightedValue\", \"defaultOpen\", \"defaultValue\", \"deselectable\", \"dir\", \"disabled\", \"form\", \"getRootNode\", \"highlightedValue\", \"id\", \"ids\", \"invalid\", \"loopFocus\", \"multiple\", \"name\", \"onFocusOutside\", \"onHighlightChange\", \"onInteractOutside\", \"onOpenChange\", \"onPointerDownOutside\", \"onSelect\", \"onValueChange\", \"open\", \"positioning\", \"readOnly\", \"required\", \"scrollToIndexFn\", \"value\"]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"item\", \"persistFocus\"]);\nvar splitItemProps = createSplitProps(itemProps);\nvar itemGroupProps = createProps()([\"id\"]);\nvar splitItemGroupProps = createSplitProps(itemGroupProps);\nvar itemGroupLabelProps = createProps()([\"htmlFor\"]);\nvar splitItemGroupLabelProps = createSplitProps(itemGroupLabelProps);\nexport { anatomy, collection, connect, itemGroupLabelProps, itemGroupProps, itemProps, machine, props, splitItemGroupLabelProps, splitItemGroupProps, splitItemProps, splitProps };","map":{"version":3,"names":["createAnatomy","ListCollection","raf","getInitialFocus","observeAttributes","trackFormControl","getByTypeahead","scrollIntoView","isSelfTarget","isValidTabEvent","getEventKey","getEventTarget","isEditableElement","visuallyHiddenStyle","dataAttr","ariaAttr","getPlacement","getPlacementStyles","addOrRemove","isEqual","createSplitProps","ensure","createGuards","createMachine","trackDismissableElement","createProps","anatomy","parts","build","collection","options","empty","items","getRootId","ctx","ids","root","id","getContentId","content","getTriggerId","trigger","getClearTriggerId","clearTrigger","getLabelId","label","getControlId","control","getItemId","item","getHiddenSelectId","hiddenSelect","getPositionerId","positioner","getItemGroupId","itemGroup","getItemGroupLabelId","itemGroupLabel","getHiddenSelectEl","getById","getContentEl","getTriggerEl","getClearTriggerEl","getPositionerEl","getItemEl","connect","service","normalize","context","prop","scope","state","computed","send","disabled","get","invalid","readOnly","composite","collection2","open","hasTag","focused","matches","highlightedValue","highlightedItem","selectedItems","currentPlacement","isTypingAhead","interactive","ariaActiveDescendant","getItemState","props2","_disabled","getItemDisabled","value","getItemValue","JSON","stringify","Boolean","highlighted","selected","includes","popperStyles","placement","length","hasSelectedItems","valueAsString","multiple","reposition","type","focus","preventScroll","setOpen","nextOpen","open2","selectValue","setValue","selectAll","getValues","setHighlightValue","clearHighlightValue","clearValue","getRootProps","element","attrs","dir","getLabelProps","htmlFor","onClick","event","defaultPrevented","getControlProps","getValueTextProps","valueText","getTriggerProps","button","role","onFocus","onBlur","onKeyDown","keyMap","ArrowUp","ArrowDown","event2","altKey","ArrowLeft","ArrowRight","Home","End","Enter","Space","key","exec","orientation","preventDefault","isValidEvent","getIndicatorProps","indicator","getItemProps","itemState","onPointerMove","pointerType","src","onPointerLeave","persistFocus","pointerMoved","previous","getItemTextProps","itemText","getItemIndicatorProps","itemIndicator","hidden","getItemGroupLabelProps","getItemGroupProps","getClearTriggerProps","getHiddenSelectProps","defaultValue","select","name","form","required","style","tabIndex","getPositionerProps","floating","getContentProps","valid","target","getListProps","list","and","not","or","machine","props","loopFocus","closeOnSelect","positioning","gutter","bindable","onChange","findMany","find","highlightedIndex","indexOf","fieldsetDisabled","refs","typeahead","defaultOptions","keysSoFar","isDisabled","isInteractive","stringifyItems","initialState","entry","watch","track","action","toString","on","actions","effects","states","idle","tags","guard","OPEN","exit","CLOSE","implementations","guards","loop","hasHighlightedItem","isFirstItemHighlighted","firstValue","isLastItemHighlighted","lastValue","restoreFocus","restoreFocusFn","isOpenControlled","isTriggerClickEvent","previousEvent","isTriggerEnterEvent","isTriggerArrowUpEvent","isTriggerArrowDownEvent","trackFormControlState","onFieldsetDisabledChange","set","onFormReset","initial","contentEl","defer","exclude","onFocusOutside","onPointerDownOutside","onInteractOutside","detail","focusable","contextmenu","onDismiss","computePlacement","triggerEl","positionerEl","onComplete","data","scrollToHighlightedItem","immediate","current","optionEl","contentEl2","scrollToIndexFn","index","rootEl","block","attributes","callback","listeners","toggleVisibility","highlightPreviousItem","getPreviousValue","highlightNextItem","getNextValue","highlightFirstItem","highlightLastItem","setInitialFocus","focusTriggerEl","selectHighlightedItem","has","nullable","prev","highlightComputedFirstItem","sort","highlightComputedLastItem","highlightFirstSelectedItem","highlightItem","highlightMatchingItem","search","currentValue","setHighlightedItem","clearHighlightedItem","selectItem","clearItem","filter","v","setSelectedItems","clearSelectedItems","selectPreviousItem","firstItem","selectNextItem","selectFirstItem","selectLastItem","selectMatchingItem","scrollContentToTop","scrollTo","invokeOnOpen","invokeOnClose","syncSelectElement","selectEl","selectedIndex","option","syncCollection","syncSelectedItems","prevSelectedItems","map","value2","item2","syncHighlightedItem","dispatchChangeEvent","queueMicrotask","node","win","getWin","changeEvent","Event","bubbles","composed","dispatchEvent","splitProps","itemProps","splitItemProps","itemGroupProps","splitItemGroupProps","itemGroupLabelProps","splitItemGroupLabelProps"],"sources":["/Users/sofia-kalpin/Documents/Facu/ADR/Frontend/inmobiliaria-frontend/node_modules/@zag-js/select/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { ListCollection } from '@zag-js/collection';\nimport { raf, getInitialFocus, observeAttributes, trackFormControl, getByTypeahead, scrollIntoView, isSelfTarget, isValidTabEvent, getEventKey, getEventTarget, isEditableElement, visuallyHiddenStyle, dataAttr, ariaAttr } from '@zag-js/dom-query';\nimport { getPlacement, getPlacementStyles } from '@zag-js/popper';\nimport { addOrRemove, isEqual, createSplitProps, ensure } from '@zag-js/utils';\nimport { createGuards, createMachine } from '@zag-js/core';\nimport { trackDismissableElement } from '@zag-js/dismissable';\nimport { createProps } from '@zag-js/types';\n\n// src/select.anatomy.ts\nvar anatomy = createAnatomy(\"select\").parts(\n  \"label\",\n  \"positioner\",\n  \"trigger\",\n  \"indicator\",\n  \"clearTrigger\",\n  \"item\",\n  \"itemText\",\n  \"itemIndicator\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"list\",\n  \"content\",\n  \"root\",\n  \"control\",\n  \"valueText\"\n);\nvar parts = anatomy.build();\nvar collection = (options) => {\n  return new ListCollection(options);\n};\ncollection.empty = () => {\n  return new ListCollection({ items: [] });\n};\n\n// src/select.dom.ts\nvar getRootId = (ctx) => ctx.ids?.root ?? `select:${ctx.id}`;\nvar getContentId = (ctx) => ctx.ids?.content ?? `select:${ctx.id}:content`;\nvar getTriggerId = (ctx) => ctx.ids?.trigger ?? `select:${ctx.id}:trigger`;\nvar getClearTriggerId = (ctx) => ctx.ids?.clearTrigger ?? `select:${ctx.id}:clear-trigger`;\nvar getLabelId = (ctx) => ctx.ids?.label ?? `select:${ctx.id}:label`;\nvar getControlId = (ctx) => ctx.ids?.control ?? `select:${ctx.id}:control`;\nvar getItemId = (ctx, id) => ctx.ids?.item?.(id) ?? `select:${ctx.id}:option:${id}`;\nvar getHiddenSelectId = (ctx) => ctx.ids?.hiddenSelect ?? `select:${ctx.id}:select`;\nvar getPositionerId = (ctx) => ctx.ids?.positioner ?? `select:${ctx.id}:positioner`;\nvar getItemGroupId = (ctx, id) => ctx.ids?.itemGroup?.(id) ?? `select:${ctx.id}:optgroup:${id}`;\nvar getItemGroupLabelId = (ctx, id) => ctx.ids?.itemGroupLabel?.(id) ?? `select:${ctx.id}:optgroup-label:${id}`;\nvar getHiddenSelectEl = (ctx) => ctx.getById(getHiddenSelectId(ctx));\nvar getContentEl = (ctx) => ctx.getById(getContentId(ctx));\nvar getTriggerEl = (ctx) => ctx.getById(getTriggerId(ctx));\nvar getClearTriggerEl = (ctx) => ctx.getById(getClearTriggerId(ctx));\nvar getPositionerEl = (ctx) => ctx.getById(getPositionerId(ctx));\nvar getItemEl = (ctx, id) => ctx.getById(getItemId(ctx, id));\n\n// src/select.connect.ts\nfunction connect(service, normalize) {\n  const { context, prop, scope, state, computed, send } = service;\n  const disabled = prop(\"disabled\") || context.get(\"fieldsetDisabled\");\n  const invalid = prop(\"invalid\");\n  const readOnly = prop(\"readOnly\");\n  const composite = prop(\"composite\");\n  const collection2 = prop(\"collection\");\n  const open = state.hasTag(\"open\");\n  const focused = state.matches(\"focused\");\n  const highlightedValue = context.get(\"highlightedValue\");\n  const highlightedItem = context.get(\"highlightedItem\");\n  const selectedItems = context.get(\"selectedItems\");\n  const currentPlacement = context.get(\"currentPlacement\");\n  const isTypingAhead = computed(\"isTypingAhead\");\n  const interactive = computed(\"isInteractive\");\n  const ariaActiveDescendant = highlightedValue ? getItemId(scope, highlightedValue) : void 0;\n  function getItemState(props2) {\n    const _disabled = collection2.getItemDisabled(props2.item);\n    const value = collection2.getItemValue(props2.item);\n    ensure(value, () => `[zag-js] No value found for item ${JSON.stringify(props2.item)}`);\n    return {\n      value,\n      disabled: Boolean(disabled || _disabled),\n      highlighted: highlightedValue === value,\n      selected: context.get(\"value\").includes(value)\n    };\n  }\n  const popperStyles = getPlacementStyles({\n    ...prop(\"positioning\"),\n    placement: currentPlacement\n  });\n  return {\n    open,\n    focused,\n    empty: context.get(\"value\").length === 0,\n    highlightedItem,\n    highlightedValue,\n    selectedItems,\n    hasSelectedItems: computed(\"hasSelectedItems\"),\n    value: context.get(\"value\"),\n    valueAsString: computed(\"valueAsString\"),\n    collection: collection2,\n    multiple: !!prop(\"multiple\"),\n    disabled: !!disabled,\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options });\n    },\n    focus() {\n      getTriggerEl(scope)?.focus({ preventScroll: true });\n    },\n    setOpen(nextOpen) {\n      const open2 = state.hasTag(\"open\");\n      if (open2 === nextOpen) return;\n      send({ type: nextOpen ? \"OPEN\" : \"CLOSE\" });\n    },\n    selectValue(value) {\n      send({ type: \"ITEM.SELECT\", value });\n    },\n    setValue(value) {\n      send({ type: \"VALUE.SET\", value });\n    },\n    selectAll() {\n      send({ type: \"VALUE.SET\", value: collection2.getValues() });\n    },\n    setHighlightValue(value) {\n      send({ type: \"HIGHLIGHTED_VALUE.SET\", value });\n    },\n    clearHighlightValue() {\n      send({ type: \"HIGHLIGHTED_VALUE.CLEAR\" });\n    },\n    clearValue(value) {\n      if (value) {\n        send({ type: \"ITEM.CLEAR\", value });\n      } else {\n        send({ type: \"VALUE.CLEAR\" });\n      }\n    },\n    getItemState,\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: prop(\"dir\"),\n        id: getRootId(scope),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly)\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        dir: prop(\"dir\"),\n        id: getLabelId(scope),\n        ...parts.label.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        htmlFor: getHiddenSelectId(scope),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (disabled) return;\n          getTriggerEl(scope)?.focus({ preventScroll: true });\n        }\n      });\n    },\n    getControlProps() {\n      return normalize.element({\n        ...parts.control.attrs,\n        dir: prop(\"dir\"),\n        id: getControlId(scope),\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-focus\": dataAttr(focused),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid)\n      });\n    },\n    getValueTextProps() {\n      return normalize.element({\n        ...parts.valueText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-focus\": dataAttr(focused)\n      });\n    },\n    getTriggerProps() {\n      return normalize.button({\n        id: getTriggerId(scope),\n        disabled,\n        dir: prop(\"dir\"),\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": getContentId(scope),\n        \"aria-expanded\": open,\n        \"aria-haspopup\": \"listbox\",\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"aria-invalid\": invalid,\n        \"aria-labelledby\": getLabelId(scope),\n        ...parts.trigger.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly),\n        \"data-placement\": currentPlacement,\n        \"data-placeholder-shown\": dataAttr(!computed(\"hasSelectedItems\")),\n        onClick(event) {\n          if (!interactive) return;\n          if (event.defaultPrevented) return;\n          send({ type: \"TRIGGER.CLICK\" });\n        },\n        onFocus() {\n          send({ type: \"TRIGGER.FOCUS\" });\n        },\n        onBlur() {\n          send({ type: \"TRIGGER.BLUR\" });\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (!interactive) return;\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"TRIGGER.ARROW_UP\" });\n            },\n            ArrowDown(event2) {\n              send({ type: event2.altKey ? \"OPEN\" : \"TRIGGER.ARROW_DOWN\" });\n            },\n            ArrowLeft() {\n              send({ type: \"TRIGGER.ARROW_LEFT\" });\n            },\n            ArrowRight() {\n              send({ type: \"TRIGGER.ARROW_RIGHT\" });\n            },\n            Home() {\n              send({ type: \"TRIGGER.HOME\" });\n            },\n            End() {\n              send({ type: \"TRIGGER.END\" });\n            },\n            Enter() {\n              send({ type: \"TRIGGER.ENTER\" });\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({ type: \"TRIGGER.TYPEAHEAD\", key: event2.key });\n              } else {\n                send({ type: \"TRIGGER.ENTER\" });\n              }\n            }\n          };\n          const exec = keyMap[getEventKey(event, {\n            dir: prop(\"dir\"),\n            orientation: \"vertical\"\n          })];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            return;\n          }\n          if (getByTypeahead.isValidEvent(event)) {\n            send({ type: \"TRIGGER.TYPEAHEAD\", key: event.key });\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: prop(\"dir\"),\n        \"aria-hidden\": true,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(invalid),\n        \"data-readonly\": dataAttr(readOnly)\n      });\n    },\n    getItemProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        id: getItemId(scope, itemState.value),\n        role: \"option\",\n        ...parts.item.attrs,\n        dir: prop(\"dir\"),\n        \"data-value\": itemState.value,\n        \"aria-selected\": itemState.selected,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"aria-disabled\": ariaAttr(itemState.disabled),\n        onPointerMove(event) {\n          if (itemState.disabled || event.pointerType !== \"mouse\") return;\n          if (itemState.value === highlightedValue) return;\n          send({ type: \"ITEM.POINTER_MOVE\", value: itemState.value });\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (itemState.disabled) return;\n          send({ type: \"ITEM.CLICK\", src: \"pointerup\", value: itemState.value });\n        },\n        onPointerLeave(event) {\n          if (itemState.disabled) return;\n          if (props2.persistFocus) return;\n          if (event.pointerType !== \"mouse\") return;\n          const pointerMoved = service.event.previous()?.type.includes(\"POINTER\");\n          if (!pointerMoved) return;\n          send({ type: \"ITEM.POINTER_LEAVE\" });\n        }\n      });\n    },\n    getItemTextProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted)\n      });\n    },\n    getItemIndicatorProps(props2) {\n      const itemState = getItemState(props2);\n      return normalize.element({\n        \"aria-hidden\": true,\n        ...parts.itemIndicator.attrs,\n        \"data-state\": itemState.selected ? \"checked\" : \"unchecked\",\n        hidden: !itemState.selected\n      });\n    },\n    getItemGroupLabelProps(props2) {\n      const { htmlFor } = props2;\n      return normalize.element({\n        ...parts.itemGroupLabel.attrs,\n        id: getItemGroupLabelId(scope, htmlFor),\n        dir: prop(\"dir\"),\n        role: \"presentation\"\n      });\n    },\n    getItemGroupProps(props2) {\n      const { id } = props2;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        \"data-disabled\": dataAttr(disabled),\n        id: getItemGroupId(scope, id),\n        \"aria-labelledby\": getItemGroupLabelId(scope, id),\n        role: \"group\",\n        dir: prop(\"dir\")\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        id: getClearTriggerId(scope),\n        type: \"button\",\n        \"aria-label\": \"Clear value\",\n        \"data-invalid\": dataAttr(invalid),\n        disabled,\n        hidden: !computed(\"hasSelectedItems\"),\n        dir: prop(\"dir\"),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          send({ type: \"CLEAR.CLICK\" });\n        }\n      });\n    },\n    getHiddenSelectProps() {\n      const value = context.get(\"value\");\n      const defaultValue = prop(\"multiple\") ? value : value?.[0];\n      return normalize.select({\n        name: prop(\"name\"),\n        form: prop(\"form\"),\n        disabled,\n        multiple: prop(\"multiple\"),\n        required: prop(\"required\"),\n        \"aria-hidden\": true,\n        id: getHiddenSelectId(scope),\n        defaultValue,\n        style: visuallyHiddenStyle,\n        tabIndex: -1,\n        // Some browser extensions will focus the hidden select.\n        // Let's forward the focus to the trigger.\n        onFocus() {\n          getTriggerEl(scope)?.focus({ preventScroll: true });\n        },\n        \"aria-labelledby\": getLabelId(scope)\n      });\n    },\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: prop(\"dir\"),\n        id: getPositionerId(scope),\n        style: popperStyles.floating\n      });\n    },\n    getContentProps() {\n      return normalize.element({\n        hidden: !open,\n        dir: prop(\"dir\"),\n        id: getContentId(scope),\n        role: composite ? \"listbox\" : \"dialog\",\n        ...parts.content.attrs,\n        \"data-state\": open ? \"open\" : \"closed\",\n        \"data-placement\": currentPlacement,\n        \"data-activedescendant\": ariaActiveDescendant,\n        \"aria-activedescendant\": composite ? ariaActiveDescendant : void 0,\n        \"aria-multiselectable\": prop(\"multiple\") && composite ? true : void 0,\n        \"aria-labelledby\": getLabelId(scope),\n        tabIndex: 0,\n        onKeyDown(event) {\n          if (!interactive) return;\n          if (!isSelfTarget(event)) return;\n          if (event.key === \"Tab\") {\n            const valid = isValidTabEvent(event);\n            if (!valid) {\n              event.preventDefault();\n              return;\n            }\n          }\n          const keyMap = {\n            ArrowUp() {\n              send({ type: \"CONTENT.ARROW_UP\" });\n            },\n            ArrowDown() {\n              send({ type: \"CONTENT.ARROW_DOWN\" });\n            },\n            Home() {\n              send({ type: \"CONTENT.HOME\" });\n            },\n            End() {\n              send({ type: \"CONTENT.END\" });\n            },\n            Enter() {\n              send({ type: \"ITEM.CLICK\", src: \"keydown.enter\" });\n            },\n            Space(event2) {\n              if (isTypingAhead) {\n                send({ type: \"CONTENT.TYPEAHEAD\", key: event2.key });\n              } else {\n                keyMap.Enter?.(event2);\n              }\n            }\n          };\n          const exec = keyMap[getEventKey(event)];\n          if (exec) {\n            exec(event);\n            event.preventDefault();\n            return;\n          }\n          const target = getEventTarget(event);\n          if (isEditableElement(target)) {\n            return;\n          }\n          if (getByTypeahead.isValidEvent(event)) {\n            send({ type: \"CONTENT.TYPEAHEAD\", key: event.key });\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getListProps() {\n      return normalize.element({\n        ...parts.list.attrs,\n        tabIndex: 0,\n        role: !composite ? \"listbox\" : void 0,\n        \"aria-labelledby\": getTriggerId(scope),\n        \"aria-activedescendant\": !composite ? ariaActiveDescendant : void 0,\n        \"aria-multiselectable\": !composite && prop(\"multiple\") ? true : void 0\n      });\n    }\n  };\n}\nvar { and, not, or } = createGuards();\nvar machine = createMachine({\n  props({ props: props2 }) {\n    return {\n      loopFocus: false,\n      closeOnSelect: !props2.multiple,\n      composite: true,\n      defaultValue: [],\n      ...props2,\n      collection: props2.collection ?? collection.empty(),\n      positioning: {\n        placement: \"bottom-start\",\n        gutter: 8,\n        ...props2.positioning\n      }\n    };\n  },\n  context({ prop, bindable }) {\n    return {\n      value: bindable(() => ({\n        defaultValue: prop(\"defaultValue\"),\n        value: prop(\"value\"),\n        isEqual,\n        onChange(value) {\n          const items = prop(\"collection\").findMany(value);\n          return prop(\"onValueChange\")?.({ value, items });\n        }\n      })),\n      highlightedValue: bindable(() => ({\n        defaultValue: prop(\"defaultHighlightedValue\") || null,\n        value: prop(\"highlightedValue\"),\n        onChange(value) {\n          prop(\"onHighlightChange\")?.({\n            highlightedValue: value,\n            highlightedItem: prop(\"collection\").find(value),\n            highlightedIndex: prop(\"collection\").indexOf(value)\n          });\n        }\n      })),\n      currentPlacement: bindable(() => ({\n        defaultValue: void 0\n      })),\n      fieldsetDisabled: bindable(() => ({\n        defaultValue: false\n      })),\n      highlightedItem: bindable(() => ({\n        defaultValue: null\n      })),\n      selectedItems: bindable(() => {\n        const value = prop(\"value\") ?? prop(\"defaultValue\") ?? [];\n        const items = prop(\"collection\").findMany(value);\n        return { defaultValue: items };\n      })\n    };\n  },\n  refs() {\n    return {\n      typeahead: { ...getByTypeahead.defaultOptions }\n    };\n  },\n  computed: {\n    hasSelectedItems: ({ context }) => context.get(\"value\").length > 0,\n    isTypingAhead: ({ refs }) => refs.get(\"typeahead\").keysSoFar !== \"\",\n    isDisabled: ({ prop, context }) => !!prop(\"disabled\") || !!context.get(\"fieldsetDisabled\"),\n    isInteractive: ({ prop }) => !(prop(\"disabled\") || prop(\"readOnly\")),\n    valueAsString: ({ context, prop }) => prop(\"collection\").stringifyItems(context.get(\"selectedItems\"))\n  },\n  initialState({ prop }) {\n    const open = prop(\"open\") || prop(\"defaultOpen\");\n    return open ? \"open\" : \"idle\";\n  },\n  entry: [\"syncSelectElement\"],\n  watch({ context, prop, track, action }) {\n    track([() => context.get(\"value\").toString()], () => {\n      action([\"syncSelectedItems\", \"syncSelectElement\", \"dispatchChangeEvent\"]);\n    });\n    track([() => prop(\"open\")], () => {\n      action([\"toggleVisibility\"]);\n    });\n    track([() => context.get(\"highlightedValue\")], () => {\n      action([\"syncHighlightedItem\"]);\n    });\n    track([() => prop(\"collection\").toString()], () => {\n      action([\"syncCollection\"]);\n    });\n  },\n  on: {\n    \"HIGHLIGHTED_VALUE.SET\": {\n      actions: [\"setHighlightedItem\"]\n    },\n    \"HIGHLIGHTED_VALUE.CLEAR\": {\n      actions: [\"clearHighlightedItem\"]\n    },\n    \"ITEM.SELECT\": {\n      actions: [\"selectItem\"]\n    },\n    \"ITEM.CLEAR\": {\n      actions: [\"clearItem\"]\n    },\n    \"VALUE.SET\": {\n      actions: [\"setSelectedItems\"]\n    },\n    \"VALUE.CLEAR\": {\n      actions: [\"clearSelectedItems\"]\n    },\n    \"CLEAR.CLICK\": {\n      actions: [\"clearSelectedItems\", \"focusTriggerEl\"]\n    }\n  },\n  effects: [\"trackFormControlState\"],\n  states: {\n    idle: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": [\n          {\n            guard: \"isTriggerClickEvent\",\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\"]\n          }\n        ],\n        \"TRIGGER.CLICK\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"invokeOnOpen\", \"setInitialFocus\", \"highlightFirstSelectedItem\"]\n          }\n        ],\n        \"TRIGGER.FOCUS\": {\n          target: \"focused\"\n        },\n        OPEN: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n          }\n        ]\n      }\n    },\n    focused: {\n      tags: [\"closed\"],\n      on: {\n        \"CONTROLLED.OPEN\": [\n          {\n            guard: \"isTriggerClickEvent\",\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightFirstSelectedItem\"]\n          },\n          {\n            guard: \"isTriggerArrowUpEvent\",\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightComputedLastItem\"]\n          },\n          {\n            guard: or(\"isTriggerArrowDownEvent\", \"isTriggerEnterEvent\"),\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"highlightComputedFirstItem\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\"]\n          }\n        ],\n        OPEN: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\"]\n          }\n        ],\n        \"TRIGGER.BLUR\": {\n          target: \"idle\"\n        },\n        \"TRIGGER.CLICK\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightFirstSelectedItem\"]\n          }\n        ],\n        \"TRIGGER.ENTER\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedFirstItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_UP\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedLastItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_DOWN\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"]\n          },\n          {\n            target: \"open\",\n            actions: [\"setInitialFocus\", \"invokeOnOpen\", \"highlightComputedFirstItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_LEFT\": [\n          {\n            guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n            actions: [\"selectPreviousItem\"]\n          },\n          {\n            guard: not(\"multiple\"),\n            actions: [\"selectLastItem\"]\n          }\n        ],\n        \"TRIGGER.ARROW_RIGHT\": [\n          {\n            guard: and(not(\"multiple\"), \"hasSelectedItems\"),\n            actions: [\"selectNextItem\"]\n          },\n          {\n            guard: not(\"multiple\"),\n            actions: [\"selectFirstItem\"]\n          }\n        ],\n        \"TRIGGER.HOME\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectFirstItem\"]\n        },\n        \"TRIGGER.END\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectLastItem\"]\n        },\n        \"TRIGGER.TYPEAHEAD\": {\n          guard: not(\"multiple\"),\n          actions: [\"selectMatchingItem\"]\n        }\n      }\n    },\n    open: {\n      tags: [\"open\"],\n      exit: [\"scrollContentToTop\"],\n      effects: [\"trackDismissableElement\", \"computePlacement\", \"scrollToHighlightedItem\"],\n      on: {\n        \"CONTROLLED.CLOSE\": [\n          {\n            guard: \"restoreFocus\",\n            target: \"focused\",\n            actions: [\"focusTriggerEl\", \"clearHighlightedItem\"]\n          },\n          {\n            target: \"idle\",\n            actions: [\"clearHighlightedItem\"]\n          }\n        ],\n        CLOSE: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            guard: \"restoreFocus\",\n            target: \"focused\",\n            actions: [\"invokeOnClose\", \"focusTriggerEl\", \"clearHighlightedItem\"]\n          },\n          {\n            target: \"idle\",\n            actions: [\"invokeOnClose\", \"clearHighlightedItem\"]\n          }\n        ],\n        \"TRIGGER.CLICK\": [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnClose\"]\n          },\n          {\n            target: \"focused\",\n            actions: [\"invokeOnClose\", \"clearHighlightedItem\"]\n          }\n        ],\n        \"ITEM.CLICK\": [\n          {\n            guard: and(\"closeOnSelect\", \"isOpenControlled\"),\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\"]\n          },\n          {\n            guard: \"closeOnSelect\",\n            target: \"focused\",\n            actions: [\"selectHighlightedItem\", \"invokeOnClose\", \"focusTriggerEl\", \"clearHighlightedItem\"]\n          },\n          {\n            actions: [\"selectHighlightedItem\"]\n          }\n        ],\n        \"CONTENT.HOME\": {\n          actions: [\"highlightFirstItem\"]\n        },\n        \"CONTENT.END\": {\n          actions: [\"highlightLastItem\"]\n        },\n        \"CONTENT.ARROW_DOWN\": [\n          {\n            guard: and(\"hasHighlightedItem\", \"loop\", \"isLastItemHighlighted\"),\n            actions: [\"highlightFirstItem\"]\n          },\n          {\n            guard: \"hasHighlightedItem\",\n            actions: [\"highlightNextItem\"]\n          },\n          {\n            actions: [\"highlightFirstItem\"]\n          }\n        ],\n        \"CONTENT.ARROW_UP\": [\n          {\n            guard: and(\"hasHighlightedItem\", \"loop\", \"isFirstItemHighlighted\"),\n            actions: [\"highlightLastItem\"]\n          },\n          {\n            guard: \"hasHighlightedItem\",\n            actions: [\"highlightPreviousItem\"]\n          },\n          {\n            actions: [\"highlightLastItem\"]\n          }\n        ],\n        \"CONTENT.TYPEAHEAD\": {\n          actions: [\"highlightMatchingItem\"]\n        },\n        \"ITEM.POINTER_MOVE\": {\n          actions: [\"highlightItem\"]\n        },\n        \"ITEM.POINTER_LEAVE\": {\n          actions: [\"clearHighlightedItem\"]\n        },\n        \"POSITIONING.SET\": {\n          actions: [\"reposition\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      loop: ({ prop }) => !!prop(\"loopFocus\"),\n      multiple: ({ prop }) => !!prop(\"multiple\"),\n      hasSelectedItems: ({ computed }) => !!computed(\"hasSelectedItems\"),\n      hasHighlightedItem: ({ context }) => context.get(\"highlightedValue\") != null,\n      isFirstItemHighlighted: ({ context, prop }) => context.get(\"highlightedValue\") === prop(\"collection\").firstValue,\n      isLastItemHighlighted: ({ context, prop }) => context.get(\"highlightedValue\") === prop(\"collection\").lastValue,\n      closeOnSelect: ({ prop, event }) => !!(event.closeOnSelect ?? prop(\"closeOnSelect\")),\n      restoreFocus: ({ event }) => restoreFocusFn(event),\n      // guard assertions (for controlled mode)\n      isOpenControlled: ({ prop }) => prop(\"open\") !== void 0,\n      isTriggerClickEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.CLICK\",\n      isTriggerEnterEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.ENTER\",\n      isTriggerArrowUpEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.ARROW_UP\",\n      isTriggerArrowDownEvent: ({ event }) => event.previousEvent?.type === \"TRIGGER.ARROW_DOWN\"\n    },\n    effects: {\n      trackFormControlState({ context, scope }) {\n        return trackFormControl(getHiddenSelectEl(scope), {\n          onFieldsetDisabledChange(disabled) {\n            context.set(\"fieldsetDisabled\", disabled);\n          },\n          onFormReset() {\n            const value = context.initial(\"value\");\n            context.set(\"value\", value);\n          }\n        });\n      },\n      trackDismissableElement({ scope, send, prop }) {\n        const contentEl = () => getContentEl(scope);\n        let restoreFocus = true;\n        return trackDismissableElement(contentEl, {\n          defer: true,\n          exclude: [getTriggerEl(scope), getClearTriggerEl(scope)],\n          onFocusOutside: prop(\"onFocusOutside\"),\n          onPointerDownOutside: prop(\"onPointerDownOutside\"),\n          onInteractOutside(event) {\n            prop(\"onInteractOutside\")?.(event);\n            restoreFocus = !(event.detail.focusable || event.detail.contextmenu);\n          },\n          onDismiss() {\n            send({ type: \"CLOSE\", src: \"interact-outside\", restoreFocus });\n          }\n        });\n      },\n      computePlacement({ context, prop, scope }) {\n        const positioning = prop(\"positioning\");\n        context.set(\"currentPlacement\", positioning.placement);\n        const triggerEl = () => getTriggerEl(scope);\n        const positionerEl = () => getPositionerEl(scope);\n        return getPlacement(triggerEl, positionerEl, {\n          defer: true,\n          ...positioning,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      scrollToHighlightedItem({ context, prop, scope, event }) {\n        const exec = (immediate) => {\n          const highlightedValue = context.get(\"highlightedValue\");\n          if (highlightedValue == null) return;\n          if (event.current().type.includes(\"POINTER\")) return;\n          const optionEl = getItemEl(scope, highlightedValue);\n          const contentEl2 = getContentEl(scope);\n          const scrollToIndexFn = prop(\"scrollToIndexFn\");\n          if (scrollToIndexFn) {\n            const highlightedIndex = prop(\"collection\").indexOf(highlightedValue);\n            scrollToIndexFn?.({ index: highlightedIndex, immediate });\n            return;\n          }\n          scrollIntoView(optionEl, { rootEl: contentEl2, block: \"nearest\" });\n        };\n        raf(() => exec(true));\n        const contentEl = () => getContentEl(scope);\n        return observeAttributes(contentEl, {\n          defer: true,\n          attributes: [\"data-activedescendant\"],\n          callback() {\n            exec(false);\n          }\n        });\n      }\n    },\n    actions: {\n      reposition({ context, prop, scope, event }) {\n        const positionerEl = () => getPositionerEl(scope);\n        getPlacement(getTriggerEl(scope), positionerEl, {\n          ...prop(\"positioning\"),\n          ...event.options,\n          defer: true,\n          listeners: false,\n          onComplete(data) {\n            context.set(\"currentPlacement\", data.placement);\n          }\n        });\n      },\n      toggleVisibility({ send, prop, event }) {\n        send({ type: prop(\"open\") ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: event });\n      },\n      highlightPreviousItem({ context, prop }) {\n        const highlightedValue = context.get(\"highlightedValue\");\n        if (highlightedValue == null) return;\n        const value = prop(\"collection\").getPreviousValue(highlightedValue, 1, prop(\"loopFocus\"));\n        if (value == null) return;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightNextItem({ context, prop }) {\n        const highlightedValue = context.get(\"highlightedValue\");\n        if (highlightedValue == null) return;\n        const value = prop(\"collection\").getNextValue(highlightedValue, 1, prop(\"loopFocus\"));\n        if (value == null) return;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightFirstItem({ context, prop }) {\n        const value = prop(\"collection\").firstValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightLastItem({ context, prop }) {\n        const value = prop(\"collection\").lastValue;\n        context.set(\"highlightedValue\", value);\n      },\n      setInitialFocus({ scope }) {\n        raf(() => {\n          const element = getInitialFocus({\n            root: getContentEl(scope)\n          });\n          element?.focus({ preventScroll: true });\n        });\n      },\n      focusTriggerEl({ event, scope }) {\n        if (!restoreFocusFn(event)) return;\n        raf(() => {\n          const element = getTriggerEl(scope);\n          element?.focus({ preventScroll: true });\n        });\n      },\n      selectHighlightedItem({ context, prop, event }) {\n        let value = event.value ?? context.get(\"highlightedValue\");\n        if (value == null || !prop(\"collection\").has(value)) return;\n        prop(\"onSelect\")?.({ value });\n        const nullable = prop(\"deselectable\") && !prop(\"multiple\") && context.get(\"value\").includes(value);\n        value = nullable ? null : value;\n        context.set(\"value\", (prev) => {\n          if (value == null) return [];\n          if (prop(\"multiple\")) return addOrRemove(prev, value);\n          return [value];\n        });\n      },\n      highlightComputedFirstItem({ context, prop, computed }) {\n        const collection2 = prop(\"collection\");\n        const value = computed(\"hasSelectedItems\") ? collection2.sort(context.get(\"value\"))[0] : collection2.firstValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightComputedLastItem({ context, prop, computed }) {\n        const collection2 = prop(\"collection\");\n        const value = computed(\"hasSelectedItems\") ? collection2.sort(context.get(\"value\"))[0] : collection2.lastValue;\n        context.set(\"highlightedValue\", value);\n      },\n      highlightFirstSelectedItem({ context, prop, computed }) {\n        if (!computed(\"hasSelectedItems\")) return;\n        const value = prop(\"collection\").sort(context.get(\"value\"))[0];\n        context.set(\"highlightedValue\", value);\n      },\n      highlightItem({ context, event }) {\n        context.set(\"highlightedValue\", event.value);\n      },\n      highlightMatchingItem({ context, prop, event, refs }) {\n        const value = prop(\"collection\").search(event.key, {\n          state: refs.get(\"typeahead\"),\n          currentValue: context.get(\"highlightedValue\")\n        });\n        if (value == null) return;\n        context.set(\"highlightedValue\", value);\n      },\n      setHighlightedItem({ context, event }) {\n        context.set(\"highlightedValue\", event.value);\n      },\n      clearHighlightedItem({ context }) {\n        context.set(\"highlightedValue\", null);\n      },\n      selectItem({ context, prop, event }) {\n        prop(\"onSelect\")?.({ value: event.value });\n        const nullable = prop(\"deselectable\") && !prop(\"multiple\") && context.get(\"value\").includes(event.value);\n        const value = nullable ? null : event.value;\n        context.set(\"value\", (prev) => {\n          if (value == null) return [];\n          if (prop(\"multiple\")) return addOrRemove(prev, value);\n          return [value];\n        });\n      },\n      clearItem({ context, event }) {\n        context.set(\"value\", (prev) => prev.filter((v) => v !== event.value));\n      },\n      setSelectedItems({ context, event }) {\n        context.set(\"value\", event.value);\n      },\n      clearSelectedItems({ context }) {\n        context.set(\"value\", []);\n      },\n      selectPreviousItem({ context, prop }) {\n        const [firstItem] = context.get(\"value\");\n        const value = prop(\"collection\").getPreviousValue(firstItem);\n        if (value) context.set(\"value\", [value]);\n      },\n      selectNextItem({ context, prop }) {\n        const [firstItem] = context.get(\"value\");\n        const value = prop(\"collection\").getNextValue(firstItem);\n        if (value) context.set(\"value\", [value]);\n      },\n      selectFirstItem({ context, prop }) {\n        const value = prop(\"collection\").firstValue;\n        if (value) context.set(\"value\", [value]);\n      },\n      selectLastItem({ context, prop }) {\n        const value = prop(\"collection\").lastValue;\n        if (value) context.set(\"value\", [value]);\n      },\n      selectMatchingItem({ context, prop, event, refs }) {\n        const value = prop(\"collection\").search(event.key, {\n          state: refs.get(\"typeahead\"),\n          currentValue: context.get(\"value\")[0]\n        });\n        if (value == null) return;\n        context.set(\"value\", [value]);\n      },\n      scrollContentToTop({ prop, scope }) {\n        if (prop(\"scrollToIndexFn\")) {\n          prop(\"scrollToIndexFn\")?.({ index: 0, immediate: true });\n        } else {\n          getContentEl(scope)?.scrollTo(0, 0);\n        }\n      },\n      invokeOnOpen({ prop }) {\n        prop(\"onOpenChange\")?.({ open: true });\n      },\n      invokeOnClose({ prop }) {\n        prop(\"onOpenChange\")?.({ open: false });\n      },\n      syncSelectElement({ context, prop, scope }) {\n        const selectEl = getHiddenSelectEl(scope);\n        if (!selectEl) return;\n        if (context.get(\"value\").length === 0 && !prop(\"multiple\")) {\n          selectEl.selectedIndex = -1;\n          return;\n        }\n        for (const option of selectEl.options) {\n          option.selected = context.get(\"value\").includes(option.value);\n        }\n      },\n      syncCollection({ context, prop }) {\n        const collection2 = prop(\"collection\");\n        const highlightedItem = collection2.find(context.get(\"highlightedValue\"));\n        if (highlightedItem) context.set(\"highlightedItem\", highlightedItem);\n        const selectedItems = collection2.findMany(context.get(\"value\"));\n        context.set(\"selectedItems\", selectedItems);\n      },\n      syncSelectedItems({ context, prop }) {\n        const collection2 = prop(\"collection\");\n        const prevSelectedItems = context.get(\"selectedItems\");\n        const value = context.get(\"value\");\n        const selectedItems = value.map((value2) => {\n          const item = prevSelectedItems.find((item2) => collection2.getItemValue(item2) === value2);\n          return item || collection2.find(value2);\n        });\n        context.set(\"selectedItems\", selectedItems);\n      },\n      syncHighlightedItem({ context, prop }) {\n        const collection2 = prop(\"collection\");\n        const highlightedValue = context.get(\"highlightedValue\");\n        const highlightedItem = highlightedValue ? collection2.find(highlightedValue) : null;\n        context.set(\"highlightedItem\", highlightedItem);\n      },\n      dispatchChangeEvent({ scope }) {\n        queueMicrotask(() => {\n          const node = getHiddenSelectEl(scope);\n          if (!node) return;\n          const win = scope.getWin();\n          const changeEvent = new win.Event(\"change\", { bubbles: true, composed: true });\n          node.dispatchEvent(changeEvent);\n        });\n      }\n    }\n  }\n});\nfunction restoreFocusFn(event) {\n  const v = event.restoreFocus ?? event.previousEvent?.restoreFocus;\n  return v == null || !!v;\n}\nvar props = createProps()([\n  \"closeOnSelect\",\n  \"collection\",\n  \"composite\",\n  \"defaultHighlightedValue\",\n  \"defaultOpen\",\n  \"defaultValue\",\n  \"deselectable\",\n  \"dir\",\n  \"disabled\",\n  \"form\",\n  \"getRootNode\",\n  \"highlightedValue\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"loopFocus\",\n  \"multiple\",\n  \"name\",\n  \"onFocusOutside\",\n  \"onHighlightChange\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"onSelect\",\n  \"onValueChange\",\n  \"open\",\n  \"positioning\",\n  \"readOnly\",\n  \"required\",\n  \"scrollToIndexFn\",\n  \"value\"\n]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"item\", \"persistFocus\"]);\nvar splitItemProps = createSplitProps(itemProps);\nvar itemGroupProps = createProps()([\"id\"]);\nvar splitItemGroupProps = createSplitProps(itemGroupProps);\nvar itemGroupLabelProps = createProps()([\"htmlFor\"]);\nvar splitItemGroupLabelProps = createSplitProps(itemGroupLabelProps);\n\nexport { anatomy, collection, connect, itemGroupLabelProps, itemGroupProps, itemProps, machine, props, splitItemGroupLabelProps, splitItemGroupProps, splitItemProps, splitProps };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}