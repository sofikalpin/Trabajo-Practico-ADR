{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { TreeCollection, filePathToTree } from '@zag-js/collection';\nimport { getByTypeahead, dataAttr, isLeftClick, ariaAttr, isAnchorElement, isModifierKey, isComposingEvent, getEventTarget, isEditableElement, getEventKey } from '@zag-js/dom-query';\nimport { addOrRemove, first, uniq, diff, isArray, toArray, remove, last, isEqual, createSplitProps, add, partition, ensure } from '@zag-js/utils';\nimport { createGuards, createMachine } from '@zag-js/core';\nimport { createProps } from '@zag-js/types';\n\n// src/tree-view.anatomy.ts\nvar anatomy = createAnatomy(\"tree-view\").parts(\"branch\", \"branchContent\", \"branchControl\", \"branchIndentGuide\", \"branchIndicator\", \"branchText\", \"branchTrigger\", \"item\", \"itemIndicator\", \"itemText\", \"label\", \"nodeCheckbox\", \"root\", \"tree\");\nvar parts = anatomy.build();\nvar collection = options => {\n  return new TreeCollection(options);\n};\ncollection.empty = () => {\n  return new TreeCollection({\n    rootNode: {\n      children: []\n    }\n  });\n};\nfunction filePathCollection(paths) {\n  return filePathToTree(paths);\n}\n\n// src/tree-view.dom.ts\nvar getRootId = ctx => ctx.ids?.root ?? `tree:${ctx.id}:root`;\nvar getLabelId = ctx => ctx.ids?.label ?? `tree:${ctx.id}:label`;\nvar getNodeId = (ctx, value) => ctx.ids?.node?.(value) ?? `tree:${ctx.id}:node:${value}`;\nvar getTreeId = ctx => ctx.ids?.tree ?? `tree:${ctx.id}:tree`;\nvar focusNode = (ctx, value) => {\n  if (value == null) return;\n  const nodeId = getNodeId(ctx, value);\n  ctx.getById(nodeId)?.focus({\n    preventScroll: true\n  });\n};\nfunction getCheckedState(collection2, node, checkedValue) {\n  const value = collection2.getNodeValue(node);\n  if (!collection2.isBranchNode(node)) {\n    return checkedValue.includes(value);\n  }\n  const childValues = collection2.getDescendantValues(value);\n  const allChecked = childValues.every(v => checkedValue.includes(v));\n  const someChecked = childValues.some(v => checkedValue.includes(v));\n  return allChecked ? true : someChecked ? \"indeterminate\" : false;\n}\nfunction toggleBranchChecked(collection2, value, checkedValue) {\n  const childValues = collection2.getDescendantValues(value);\n  const allChecked = childValues.every(child => checkedValue.includes(child));\n  return uniq(allChecked ? remove(checkedValue, ...childValues) : add(checkedValue, ...childValues));\n}\nfunction getCheckedValueMap(collection2, checkedValue) {\n  const map = /* @__PURE__ */new Map();\n  collection2.visit({\n    onEnter: node => {\n      const value = collection2.getNodeValue(node);\n      const isBranch = collection2.isBranchNode(node);\n      const checked = getCheckedState(collection2, node, checkedValue);\n      map.set(value, {\n        type: isBranch ? \"branch\" : \"leaf\",\n        checked\n      });\n    }\n  });\n  return map;\n}\n\n// src/tree-view.connect.ts\nfunction connect(service, normalize) {\n  const {\n    context,\n    scope,\n    computed,\n    prop,\n    send\n  } = service;\n  const collection2 = prop(\"collection\");\n  const expandedValue = Array.from(context.get(\"expandedValue\"));\n  const selectedValue = Array.from(context.get(\"selectedValue\"));\n  const checkedValue = Array.from(context.get(\"checkedValue\"));\n  const isTypingAhead = computed(\"isTypingAhead\");\n  const focusedValue = context.get(\"focusedValue\");\n  const loadingStatus = context.get(\"loadingStatus\");\n  function getNodeState(props2) {\n    const {\n      node,\n      indexPath\n    } = props2;\n    const value = collection2.getNodeValue(node);\n    const firstNode = collection2.getFirstNode();\n    const firstNodeValue = firstNode ? collection2.getNodeValue(firstNode) : null;\n    return {\n      id: getNodeId(scope, value),\n      value,\n      indexPath,\n      valuePath: collection2.getValuePath(indexPath),\n      disabled: Boolean(node.disabled),\n      focused: focusedValue == null ? firstNodeValue == value : focusedValue === value,\n      selected: selectedValue.includes(value),\n      expanded: expandedValue.includes(value),\n      loading: loadingStatus[value] === \"loading\",\n      depth: indexPath.length,\n      isBranch: collection2.isBranchNode(node),\n      get checked() {\n        return getCheckedState(collection2, node, checkedValue);\n      }\n    };\n  }\n  return {\n    collection: collection2,\n    expandedValue,\n    selectedValue,\n    checkedValue,\n    toggleChecked(value, isBranch) {\n      send({\n        type: \"CHECKED.TOGGLE\",\n        value,\n        isBranch\n      });\n    },\n    setChecked(value) {\n      send({\n        type: \"CHECKED.SET\",\n        value\n      });\n    },\n    clearChecked() {\n      send({\n        type: \"CHECKED.CLEAR\"\n      });\n    },\n    getCheckedMap() {\n      return getCheckedValueMap(collection2, checkedValue);\n    },\n    expand(value) {\n      send({\n        type: value ? \"BRANCH.EXPAND\" : \"EXPANDED.ALL\",\n        value\n      });\n    },\n    collapse(value) {\n      send({\n        type: value ? \"BRANCH.COLLAPSE\" : \"EXPANDED.CLEAR\",\n        value\n      });\n    },\n    deselect(value) {\n      send({\n        type: value ? \"NODE.DESELECT\" : \"SELECTED.CLEAR\",\n        value\n      });\n    },\n    select(value) {\n      send({\n        type: value ? \"NODE.SELECT\" : \"SELECTED.ALL\",\n        value,\n        isTrusted: false\n      });\n    },\n    getVisibleNodes() {\n      return computed(\"visibleNodes\").map(({\n        node\n      }) => node);\n    },\n    focus(value) {\n      focusNode(scope, value);\n    },\n    selectParent(value) {\n      const parentNode = collection2.getParentNode(value);\n      if (!parentNode) return;\n      const _selectedValue = add(selectedValue, collection2.getNodeValue(parentNode));\n      send({\n        type: \"SELECTED.SET\",\n        value: _selectedValue,\n        src: \"select.parent\"\n      });\n    },\n    expandParent(value) {\n      const parentNode = collection2.getParentNode(value);\n      if (!parentNode) return;\n      const _expandedValue = add(expandedValue, collection2.getNodeValue(parentNode));\n      send({\n        type: \"EXPANDED.SET\",\n        value: _expandedValue,\n        src: \"expand.parent\"\n      });\n    },\n    setExpandedValue(value) {\n      const _expandedValue = uniq(value);\n      send({\n        type: \"EXPANDED.SET\",\n        value: _expandedValue\n      });\n    },\n    setSelectedValue(value) {\n      const _selectedValue = uniq(value);\n      send({\n        type: \"SELECTED.SET\",\n        value: _selectedValue\n      });\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        id: getRootId(scope),\n        dir: prop(\"dir\")\n      });\n    },\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        id: getLabelId(scope),\n        dir: prop(\"dir\")\n      });\n    },\n    getTreeProps() {\n      return normalize.element({\n        ...parts.tree.attrs,\n        id: getTreeId(scope),\n        dir: prop(\"dir\"),\n        role: \"tree\",\n        \"aria-label\": \"Tree View\",\n        \"aria-labelledby\": getLabelId(scope),\n        \"aria-multiselectable\": prop(\"selectionMode\") === \"multiple\" || void 0,\n        tabIndex: -1,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (isComposingEvent(event)) return;\n          const target = getEventTarget(event);\n          if (isEditableElement(target)) return;\n          const node = target?.closest(\"[data-part=branch-control], [data-part=item]\");\n          if (!node) return;\n          const nodeId = node.dataset.value;\n          if (nodeId == null) {\n            console.warn(`[zag-js/tree-view] Node id not found for node`, node);\n            return;\n          }\n          const isBranchNode = node.matches(\"[data-part=branch-control]\");\n          const keyMap = {\n            ArrowDown(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({\n                type: \"NODE.ARROW_DOWN\",\n                id: nodeId,\n                shiftKey: event2.shiftKey\n              });\n            },\n            ArrowUp(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({\n                type: \"NODE.ARROW_UP\",\n                id: nodeId,\n                shiftKey: event2.shiftKey\n              });\n            },\n            ArrowLeft(event2) {\n              if (isModifierKey(event2) || node.dataset.disabled) return;\n              event2.preventDefault();\n              send({\n                type: isBranchNode ? \"BRANCH_NODE.ARROW_LEFT\" : \"NODE.ARROW_LEFT\",\n                id: nodeId\n              });\n            },\n            ArrowRight(event2) {\n              if (!isBranchNode || node.dataset.disabled) return;\n              event2.preventDefault();\n              send({\n                type: \"BRANCH_NODE.ARROW_RIGHT\",\n                id: nodeId\n              });\n            },\n            Home(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({\n                type: \"NODE.HOME\",\n                id: nodeId,\n                shiftKey: event2.shiftKey\n              });\n            },\n            End(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({\n                type: \"NODE.END\",\n                id: nodeId,\n                shiftKey: event2.shiftKey\n              });\n            },\n            Space(event2) {\n              if (node.dataset.disabled) return;\n              if (isTypingAhead) {\n                send({\n                  type: \"TREE.TYPEAHEAD\",\n                  key: event2.key\n                });\n              } else {\n                keyMap.Enter?.(event2);\n              }\n            },\n            Enter(event2) {\n              if (node.dataset.disabled) return;\n              if (isAnchorElement(target) && isModifierKey(event2)) return;\n              send({\n                type: isBranchNode ? \"BRANCH_NODE.CLICK\" : \"NODE.CLICK\",\n                id: nodeId,\n                src: \"keyboard\"\n              });\n              if (!isAnchorElement(target)) {\n                event2.preventDefault();\n              }\n            },\n            \"*\"(event2) {\n              if (node.dataset.disabled) return;\n              event2.preventDefault();\n              send({\n                type: \"SIBLINGS.EXPAND\",\n                id: nodeId\n              });\n            },\n            a(event2) {\n              if (!event2.metaKey || node.dataset.disabled) return;\n              event2.preventDefault();\n              send({\n                type: \"SELECTED.ALL\",\n                moveFocus: true\n              });\n            }\n          };\n          const key = getEventKey(event, {\n            dir: prop(\"dir\")\n          });\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            return;\n          }\n          if (!getByTypeahead.isValidEvent(event)) return;\n          send({\n            type: \"TREE.TYPEAHEAD\",\n            key: event.key,\n            id: nodeId\n          });\n          event.preventDefault();\n        }\n      });\n    },\n    getNodeState,\n    getItemProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.item.attrs,\n        id: nodeState.id,\n        dir: prop(\"dir\"),\n        \"data-ownedby\": getTreeId(scope),\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-value\": nodeState.value,\n        tabIndex: nodeState.focused ? 0 : -1,\n        \"data-focus\": dataAttr(nodeState.focused),\n        role: \"treeitem\",\n        \"aria-current\": nodeState.selected ? \"true\" : void 0,\n        \"aria-selected\": nodeState.disabled ? void 0 : nodeState.selected,\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"aria-disabled\": ariaAttr(nodeState.disabled),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"aria-level\": nodeState.depth,\n        \"data-depth\": nodeState.depth,\n        style: {\n          \"--depth\": nodeState.depth\n        },\n        onFocus(event) {\n          event.stopPropagation();\n          send({\n            type: \"NODE.FOCUS\",\n            id: nodeState.value\n          });\n        },\n        onClick(event) {\n          if (nodeState.disabled) return;\n          if (!isLeftClick(event)) return;\n          if (isAnchorElement(event.currentTarget) && isModifierKey(event)) return;\n          const isMetaKey = event.metaKey || event.ctrlKey;\n          send({\n            type: \"NODE.CLICK\",\n            id: nodeState.value,\n            shiftKey: event.shiftKey,\n            ctrlKey: isMetaKey\n          });\n          event.stopPropagation();\n          if (!isAnchorElement(event.currentTarget)) {\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getItemTextProps(props2) {\n      const itemState = getNodeState(props2);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-selected\": dataAttr(itemState.selected),\n        \"data-focus\": dataAttr(itemState.focused)\n      });\n    },\n    getItemIndicatorProps(props2) {\n      const itemState = getNodeState(props2);\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        \"aria-hidden\": true,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-selected\": dataAttr(itemState.selected),\n        \"data-focus\": dataAttr(itemState.focused),\n        hidden: !itemState.selected\n      });\n    },\n    getBranchProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branch.attrs,\n        \"data-depth\": nodeState.depth,\n        dir: prop(\"dir\"),\n        \"data-branch\": nodeState.value,\n        role: \"treeitem\",\n        \"data-ownedby\": getTreeId(scope),\n        \"data-value\": nodeState.value,\n        \"aria-level\": nodeState.depth,\n        \"aria-selected\": nodeState.disabled ? void 0 : nodeState.selected,\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"aria-expanded\": nodeState.expanded,\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"aria-disabled\": ariaAttr(nodeState.disabled),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-loading\": dataAttr(nodeState.loading),\n        \"aria-busy\": ariaAttr(nodeState.loading),\n        style: {\n          \"--depth\": nodeState.depth\n        }\n      });\n    },\n    getBranchIndicatorProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchIndicator.attrs,\n        \"aria-hidden\": true,\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"data-focus\": dataAttr(nodeState.focused),\n        \"data-loading\": dataAttr(nodeState.loading)\n      });\n    },\n    getBranchTriggerProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchTrigger.attrs,\n        role: \"button\",\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-value\": nodeState.value,\n        \"data-loading\": dataAttr(nodeState.loading),\n        disabled: nodeState.loading,\n        onClick(event) {\n          if (nodeState.disabled || nodeState.loading) return;\n          send({\n            type: \"BRANCH_TOGGLE.CLICK\",\n            id: nodeState.value\n          });\n          event.stopPropagation();\n        }\n      });\n    },\n    getBranchControlProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchControl.attrs,\n        role: \"button\",\n        id: nodeState.id,\n        dir: prop(\"dir\"),\n        tabIndex: nodeState.focused ? 0 : -1,\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"data-focus\": dataAttr(nodeState.focused),\n        \"data-value\": nodeState.value,\n        \"data-depth\": nodeState.depth,\n        \"data-loading\": dataAttr(nodeState.loading),\n        \"aria-busy\": ariaAttr(nodeState.loading),\n        onFocus(event) {\n          send({\n            type: \"NODE.FOCUS\",\n            id: nodeState.value\n          });\n          event.stopPropagation();\n        },\n        onClick(event) {\n          if (nodeState.disabled) return;\n          if (nodeState.loading) return;\n          if (!isLeftClick(event)) return;\n          if (isAnchorElement(event.currentTarget) && isModifierKey(event)) return;\n          const isMetaKey = event.metaKey || event.ctrlKey;\n          send({\n            type: \"BRANCH_NODE.CLICK\",\n            id: nodeState.value,\n            shiftKey: event.shiftKey,\n            ctrlKey: isMetaKey\n          });\n          event.stopPropagation();\n        }\n      });\n    },\n    getBranchTextProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-loading\": dataAttr(nodeState.loading)\n      });\n    },\n    getBranchContentProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchContent.attrs,\n        role: \"group\",\n        dir: prop(\"dir\"),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-depth\": nodeState.depth,\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-value\": nodeState.value,\n        hidden: !nodeState.expanded\n      });\n    },\n    getBranchIndentGuideProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchIndentGuide.attrs,\n        \"data-depth\": nodeState.depth\n      });\n    },\n    getNodeCheckboxProps(props2) {\n      const nodeState = getNodeState(props2);\n      const checkedState = nodeState.checked;\n      return normalize.element({\n        ...parts.nodeCheckbox.attrs,\n        tabIndex: -1,\n        role: \"checkbox\",\n        \"data-state\": checkedState === true ? \"checked\" : checkedState === false ? \"unchecked\" : \"indeterminate\",\n        \"aria-checked\": checkedState === true ? \"true\" : checkedState === false ? \"false\" : \"mixed\",\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (nodeState.disabled) return;\n          if (!isLeftClick(event)) return;\n          send({\n            type: \"CHECKED.TOGGLE\",\n            value: nodeState.value,\n            isBranch: nodeState.isBranch\n          });\n          event.stopPropagation();\n          const node = event.currentTarget.closest(\"[role=treeitem]\");\n          node?.focus({\n            preventScroll: true\n          });\n        }\n      });\n    }\n  };\n}\nfunction expandBranches(params, values) {\n  const {\n    context,\n    prop,\n    refs\n  } = params;\n  if (!prop(\"loadChildren\")) {\n    context.set(\"expandedValue\", prev => uniq(add(prev, ...values)));\n    return;\n  }\n  const loadingStatus = context.get(\"loadingStatus\");\n  const [loadedValues, loadingValues] = partition(values, value => loadingStatus[value] === \"loaded\");\n  if (loadedValues.length > 0) {\n    context.set(\"expandedValue\", prev => uniq(add(prev, ...loadedValues)));\n  }\n  if (loadingValues.length === 0) return;\n  const collection2 = prop(\"collection\");\n  const [nodeWithChildren, nodeWithoutChildren] = partition(loadingValues, id => {\n    const node = collection2.findNode(id);\n    return collection2.getNodeChildren(node).length > 0;\n  });\n  if (nodeWithChildren.length > 0) {\n    context.set(\"expandedValue\", prev => uniq(add(prev, ...nodeWithChildren)));\n  }\n  if (nodeWithoutChildren.length === 0) return;\n  context.set(\"loadingStatus\", prev => ({\n    ...prev,\n    ...nodeWithoutChildren.reduce((acc, id) => ({\n      ...acc,\n      [id]: \"loading\"\n    }), {})\n  }));\n  const nodesToLoad = nodeWithoutChildren.map(id => {\n    const indexPath = collection2.getIndexPath(id);\n    const valuePath = collection2.getValuePath(indexPath);\n    const node = collection2.findNode(id);\n    return {\n      id,\n      indexPath,\n      valuePath,\n      node\n    };\n  });\n  const pendingAborts = refs.get(\"pendingAborts\");\n  const loadChildren = prop(\"loadChildren\");\n  ensure(loadChildren, () => \"[zag-js/tree-view] `loadChildren` is required for async expansion\");\n  const proms = nodesToLoad.map(({\n    id,\n    indexPath,\n    valuePath,\n    node\n  }) => {\n    const existingAbort = pendingAborts.get(id);\n    if (existingAbort) {\n      existingAbort.abort();\n      pendingAborts.delete(id);\n    }\n    const abortController = new AbortController();\n    pendingAborts.set(id, abortController);\n    return loadChildren({\n      valuePath,\n      indexPath,\n      node,\n      signal: abortController.signal\n    });\n  });\n  Promise.allSettled(proms).then(results => {\n    const loadedValues2 = [];\n    const nodeWithErrors = [];\n    const nextLoadingStatus = context.get(\"loadingStatus\");\n    let collection3 = prop(\"collection\");\n    results.forEach((result, index) => {\n      const {\n        id,\n        indexPath,\n        node,\n        valuePath\n      } = nodesToLoad[index];\n      if (result.status === \"fulfilled\") {\n        nextLoadingStatus[id] = \"loaded\";\n        loadedValues2.push(id);\n        collection3 = collection3.replace(indexPath, {\n          ...node,\n          children: result.value\n        });\n      } else {\n        pendingAborts.delete(id);\n        Reflect.deleteProperty(nextLoadingStatus, id);\n        nodeWithErrors.push({\n          node,\n          error: result.reason,\n          indexPath,\n          valuePath\n        });\n      }\n    });\n    context.set(\"loadingStatus\", nextLoadingStatus);\n    if (loadedValues2.length) {\n      context.set(\"expandedValue\", prev => uniq(add(prev, ...loadedValues2)));\n      prop(\"onLoadChildrenComplete\")?.({\n        collection: collection3\n      });\n    }\n    if (nodeWithErrors.length) {\n      prop(\"onLoadChildrenError\")?.({\n        nodes: nodeWithErrors\n      });\n    }\n  });\n}\n\n// src/utils/visit-skip.ts\nfunction skipFn(params) {\n  const {\n    prop,\n    context\n  } = params;\n  return function skip({\n    indexPath\n  }) {\n    const paths = prop(\"collection\").getValuePath(indexPath).slice(0, -1);\n    return paths.some(value => !context.get(\"expandedValue\").includes(value));\n  };\n}\n\n// src/tree-view.machine.ts\nvar {\n  and\n} = createGuards();\nvar machine = createMachine({\n  props({\n    props: props2\n  }) {\n    return {\n      selectionMode: \"single\",\n      collection: collection.empty(),\n      typeahead: true,\n      expandOnClick: true,\n      defaultExpandedValue: [],\n      defaultSelectedValue: [],\n      ...props2\n    };\n  },\n  initialState() {\n    return \"idle\";\n  },\n  context({\n    prop,\n    bindable,\n    getContext\n  }) {\n    return {\n      expandedValue: bindable(() => ({\n        defaultValue: prop(\"defaultExpandedValue\"),\n        value: prop(\"expandedValue\"),\n        isEqual,\n        onChange(expandedValue) {\n          const ctx = getContext();\n          const focusedValue = ctx.get(\"focusedValue\");\n          prop(\"onExpandedChange\")?.({\n            expandedValue,\n            focusedValue,\n            get expandedNodes() {\n              return prop(\"collection\").findNodes(expandedValue);\n            }\n          });\n        }\n      })),\n      selectedValue: bindable(() => ({\n        defaultValue: prop(\"defaultSelectedValue\"),\n        value: prop(\"selectedValue\"),\n        isEqual,\n        onChange(selectedValue) {\n          const ctx = getContext();\n          const focusedValue = ctx.get(\"focusedValue\");\n          prop(\"onSelectionChange\")?.({\n            selectedValue,\n            focusedValue,\n            get selectedNodes() {\n              return prop(\"collection\").findNodes(selectedValue);\n            }\n          });\n        }\n      })),\n      focusedValue: bindable(() => ({\n        defaultValue: prop(\"defaultFocusedValue\") || null,\n        value: prop(\"focusedValue\"),\n        onChange(focusedValue) {\n          prop(\"onFocusChange\")?.({\n            focusedValue,\n            get focusedNode() {\n              return focusedValue ? prop(\"collection\").findNode(focusedValue) : null;\n            }\n          });\n        }\n      })),\n      loadingStatus: bindable(() => ({\n        defaultValue: {}\n      })),\n      checkedValue: bindable(() => ({\n        defaultValue: prop(\"defaultCheckedValue\") || [],\n        value: prop(\"checkedValue\"),\n        isEqual,\n        onChange(value) {\n          prop(\"onCheckedChange\")?.({\n            checkedValue: value\n          });\n        }\n      }))\n    };\n  },\n  refs() {\n    return {\n      typeaheadState: {\n        ...getByTypeahead.defaultOptions\n      },\n      pendingAborts: /* @__PURE__ */new Map()\n    };\n  },\n  computed: {\n    isMultipleSelection: ({\n      prop\n    }) => prop(\"selectionMode\") === \"multiple\",\n    isTypingAhead: ({\n      refs\n    }) => refs.get(\"typeaheadState\").keysSoFar.length > 0,\n    visibleNodes: ({\n      prop,\n      context\n    }) => {\n      const nodes = [];\n      prop(\"collection\").visit({\n        skip: skipFn({\n          prop,\n          context\n        }),\n        onEnter: (node, indexPath) => {\n          nodes.push({\n            node,\n            indexPath\n          });\n        }\n      });\n      return nodes;\n    }\n  },\n  on: {\n    \"EXPANDED.SET\": {\n      actions: [\"setExpanded\"]\n    },\n    \"EXPANDED.CLEAR\": {\n      actions: [\"clearExpanded\"]\n    },\n    \"EXPANDED.ALL\": {\n      actions: [\"expandAllBranches\"]\n    },\n    \"BRANCH.EXPAND\": {\n      actions: [\"expandBranches\"]\n    },\n    \"BRANCH.COLLAPSE\": {\n      actions: [\"collapseBranches\"]\n    },\n    \"SELECTED.SET\": {\n      actions: [\"setSelected\"]\n    },\n    \"SELECTED.ALL\": [{\n      guard: and(\"isMultipleSelection\", \"moveFocus\"),\n      actions: [\"selectAllNodes\", \"focusTreeLastNode\"]\n    }, {\n      guard: \"isMultipleSelection\",\n      actions: [\"selectAllNodes\"]\n    }],\n    \"SELECTED.CLEAR\": {\n      actions: [\"clearSelected\"]\n    },\n    \"NODE.SELECT\": {\n      actions: [\"selectNode\"]\n    },\n    \"NODE.DESELECT\": {\n      actions: [\"deselectNode\"]\n    },\n    \"CHECKED.TOGGLE\": {\n      actions: [\"toggleChecked\"]\n    },\n    \"CHECKED.SET\": {\n      actions: [\"setChecked\"]\n    },\n    \"CHECKED.CLEAR\": {\n      actions: [\"clearChecked\"]\n    }\n  },\n  exit: [\"clearPendingAborts\"],\n  states: {\n    idle: {\n      on: {\n        \"NODE.FOCUS\": {\n          actions: [\"setFocusedNode\"]\n        },\n        \"NODE.ARROW_DOWN\": [{\n          guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n          actions: [\"focusTreeNextNode\", \"extendSelectionToNextNode\"]\n        }, {\n          actions: [\"focusTreeNextNode\"]\n        }],\n        \"NODE.ARROW_UP\": [{\n          guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n          actions: [\"focusTreePrevNode\", \"extendSelectionToPrevNode\"]\n        }, {\n          actions: [\"focusTreePrevNode\"]\n        }],\n        \"NODE.ARROW_LEFT\": {\n          actions: [\"focusBranchNode\"]\n        },\n        \"BRANCH_NODE.ARROW_LEFT\": [{\n          guard: \"isBranchExpanded\",\n          actions: [\"collapseBranch\"]\n        }, {\n          actions: [\"focusBranchNode\"]\n        }],\n        \"BRANCH_NODE.ARROW_RIGHT\": [{\n          guard: and(\"isBranchFocused\", \"isBranchExpanded\"),\n          actions: [\"focusBranchFirstNode\"]\n        }, {\n          actions: [\"expandBranch\"]\n        }],\n        \"SIBLINGS.EXPAND\": {\n          actions: [\"expandSiblingBranches\"]\n        },\n        \"NODE.HOME\": [{\n          guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n          actions: [\"extendSelectionToFirstNode\", \"focusTreeFirstNode\"]\n        }, {\n          actions: [\"focusTreeFirstNode\"]\n        }],\n        \"NODE.END\": [{\n          guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n          actions: [\"extendSelectionToLastNode\", \"focusTreeLastNode\"]\n        }, {\n          actions: [\"focusTreeLastNode\"]\n        }],\n        \"NODE.CLICK\": [{\n          guard: and(\"isCtrlKey\", \"isMultipleSelection\"),\n          actions: [\"toggleNodeSelection\"]\n        }, {\n          guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n          actions: [\"extendSelectionToNode\"]\n        }, {\n          actions: [\"selectNode\"]\n        }],\n        \"BRANCH_NODE.CLICK\": [{\n          guard: and(\"isCtrlKey\", \"isMultipleSelection\"),\n          actions: [\"toggleNodeSelection\"]\n        }, {\n          guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n          actions: [\"extendSelectionToNode\"]\n        }, {\n          guard: \"expandOnClick\",\n          actions: [\"selectNode\", \"toggleBranchNode\"]\n        }, {\n          actions: [\"selectNode\"]\n        }],\n        \"BRANCH_TOGGLE.CLICK\": {\n          actions: [\"toggleBranchNode\"]\n        },\n        \"TREE.TYPEAHEAD\": {\n          actions: [\"focusMatchedNode\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      isBranchFocused: ({\n        context,\n        event\n      }) => context.get(\"focusedValue\") === event.id,\n      isBranchExpanded: ({\n        context,\n        event\n      }) => context.get(\"expandedValue\").includes(event.id),\n      isShiftKey: ({\n        event\n      }) => event.shiftKey,\n      isCtrlKey: ({\n        event\n      }) => event.ctrlKey,\n      hasSelectedItems: ({\n        context\n      }) => context.get(\"selectedValue\").length > 0,\n      isMultipleSelection: ({\n        prop\n      }) => prop(\"selectionMode\") === \"multiple\",\n      moveFocus: ({\n        event\n      }) => !!event.moveFocus,\n      expandOnClick: ({\n        prop\n      }) => !!prop(\"expandOnClick\")\n    },\n    actions: {\n      selectNode({\n        context,\n        event\n      }) {\n        const value = event.id || event.value;\n        context.set(\"selectedValue\", prev => {\n          if (value == null) return prev;\n          if (!event.isTrusted && isArray(value)) return prev.concat(...value);\n          return [isArray(value) ? last(value) : value].filter(Boolean);\n        });\n      },\n      deselectNode({\n        context,\n        event\n      }) {\n        const value = toArray(event.id || event.value);\n        context.set(\"selectedValue\", prev => remove(prev, ...value));\n      },\n      setFocusedNode({\n        context,\n        event\n      }) {\n        context.set(\"focusedValue\", event.id);\n      },\n      clearFocusedNode({\n        context\n      }) {\n        context.set(\"focusedValue\", null);\n      },\n      clearSelectedItem({\n        context\n      }) {\n        context.set(\"selectedValue\", []);\n      },\n      toggleBranchNode({\n        context,\n        event,\n        action\n      }) {\n        const isExpanded = context.get(\"expandedValue\").includes(event.id);\n        action(isExpanded ? [\"collapseBranch\"] : [\"expandBranch\"]);\n      },\n      expandBranch(params) {\n        const {\n          event\n        } = params;\n        expandBranches(params, [event.id]);\n      },\n      expandBranches(params) {\n        const {\n          context,\n          event\n        } = params;\n        const valuesToExpand = toArray(event.value);\n        expandBranches(params, diff(valuesToExpand, context.get(\"expandedValue\")));\n      },\n      collapseBranch({\n        context,\n        event\n      }) {\n        context.set(\"expandedValue\", prev => remove(prev, event.id));\n      },\n      collapseBranches(params) {\n        const {\n          context,\n          event\n        } = params;\n        const value = toArray(event.value);\n        context.set(\"expandedValue\", prev => remove(prev, ...value));\n      },\n      setExpanded({\n        context,\n        event\n      }) {\n        if (!isArray(event.value)) return;\n        context.set(\"expandedValue\", event.value);\n      },\n      clearExpanded({\n        context\n      }) {\n        context.set(\"expandedValue\", []);\n      },\n      setSelected({\n        context,\n        event\n      }) {\n        if (!isArray(event.value)) return;\n        context.set(\"selectedValue\", event.value);\n      },\n      clearSelected({\n        context\n      }) {\n        context.set(\"selectedValue\", []);\n      },\n      focusTreeFirstNode({\n        prop,\n        scope\n      }) {\n        const collection2 = prop(\"collection\");\n        const firstNode = collection2.getFirstNode();\n        const firstValue = collection2.getNodeValue(firstNode);\n        focusNode(scope, firstValue);\n      },\n      focusTreeLastNode(params) {\n        const {\n          prop,\n          scope\n        } = params;\n        const collection2 = prop(\"collection\");\n        const lastNode = collection2.getLastNode(void 0, {\n          skip: skipFn(params)\n        });\n        const lastValue = collection2.getNodeValue(lastNode);\n        focusNode(scope, lastValue);\n      },\n      focusBranchFirstNode({\n        event,\n        prop,\n        scope\n      }) {\n        const collection2 = prop(\"collection\");\n        const branchNode = collection2.findNode(event.id);\n        const firstNode = collection2.getFirstNode(branchNode);\n        const firstValue = collection2.getNodeValue(firstNode);\n        focusNode(scope, firstValue);\n      },\n      focusTreeNextNode(params) {\n        const {\n          event,\n          prop,\n          scope\n        } = params;\n        const collection2 = prop(\"collection\");\n        const nextNode = collection2.getNextNode(event.id, {\n          skip: skipFn(params)\n        });\n        if (!nextNode) return;\n        const nextValue = collection2.getNodeValue(nextNode);\n        focusNode(scope, nextValue);\n      },\n      focusTreePrevNode(params) {\n        const {\n          event,\n          prop,\n          scope\n        } = params;\n        const collection2 = prop(\"collection\");\n        const prevNode = collection2.getPreviousNode(event.id, {\n          skip: skipFn(params)\n        });\n        if (!prevNode) return;\n        const prevValue = collection2.getNodeValue(prevNode);\n        focusNode(scope, prevValue);\n      },\n      focusBranchNode({\n        event,\n        prop,\n        scope\n      }) {\n        const collection2 = prop(\"collection\");\n        const parentNode = collection2.getParentNode(event.id);\n        const parentValue = parentNode ? collection2.getNodeValue(parentNode) : void 0;\n        focusNode(scope, parentValue);\n      },\n      selectAllNodes({\n        context,\n        prop\n      }) {\n        context.set(\"selectedValue\", prop(\"collection\").getValues());\n      },\n      focusMatchedNode(params) {\n        const {\n          context,\n          prop,\n          refs,\n          event,\n          scope,\n          computed\n        } = params;\n        const nodes = computed(\"visibleNodes\");\n        const elements = nodes.map(({\n          node: node2\n        }) => ({\n          textContent: prop(\"collection\").stringifyNode(node2),\n          id: prop(\"collection\").getNodeValue(node2)\n        }));\n        const node = getByTypeahead(elements, {\n          state: refs.get(\"typeaheadState\"),\n          activeId: context.get(\"focusedValue\"),\n          key: event.key\n        });\n        focusNode(scope, node?.id);\n      },\n      toggleNodeSelection({\n        context,\n        event\n      }) {\n        const selectedValue = addOrRemove(context.get(\"selectedValue\"), event.id);\n        context.set(\"selectedValue\", selectedValue);\n      },\n      expandAllBranches(params) {\n        const {\n          context,\n          prop\n        } = params;\n        const branchValues = prop(\"collection\").getBranchValues();\n        const valuesToExpand = diff(branchValues, context.get(\"expandedValue\"));\n        expandBranches(params, valuesToExpand);\n      },\n      expandSiblingBranches(params) {\n        const {\n          context,\n          event,\n          prop\n        } = params;\n        const collection2 = prop(\"collection\");\n        const indexPath = collection2.getIndexPath(event.id);\n        if (!indexPath) return;\n        const nodes = collection2.getSiblingNodes(indexPath);\n        const values = nodes.map(node => collection2.getNodeValue(node));\n        const valuesToExpand = diff(values, context.get(\"expandedValue\"));\n        expandBranches(params, valuesToExpand);\n      },\n      extendSelectionToNode(params) {\n        const {\n          context,\n          event,\n          prop,\n          computed\n        } = params;\n        const collection2 = prop(\"collection\");\n        const anchorValue = first(context.get(\"selectedValue\")) || collection2.getNodeValue(collection2.getFirstNode());\n        const targetValue = event.id;\n        let values = [anchorValue, targetValue];\n        let hits = 0;\n        const visibleNodes = computed(\"visibleNodes\");\n        visibleNodes.forEach(({\n          node\n        }) => {\n          const nodeValue = collection2.getNodeValue(node);\n          if (hits === 1) values.push(nodeValue);\n          if (nodeValue === anchorValue || nodeValue === targetValue) hits++;\n        });\n        context.set(\"selectedValue\", uniq(values));\n      },\n      extendSelectionToNextNode(params) {\n        const {\n          context,\n          event,\n          prop\n        } = params;\n        const collection2 = prop(\"collection\");\n        const nextNode = collection2.getNextNode(event.id, {\n          skip: skipFn(params)\n        });\n        if (!nextNode) return;\n        const values = new Set(context.get(\"selectedValue\"));\n        const nextValue = collection2.getNodeValue(nextNode);\n        if (nextValue == null) return;\n        if (values.has(event.id) && values.has(nextValue)) {\n          values.delete(event.id);\n        } else if (!values.has(nextValue)) {\n          values.add(nextValue);\n        }\n        context.set(\"selectedValue\", Array.from(values));\n      },\n      extendSelectionToPrevNode(params) {\n        const {\n          context,\n          event,\n          prop\n        } = params;\n        const collection2 = prop(\"collection\");\n        const prevNode = collection2.getPreviousNode(event.id, {\n          skip: skipFn(params)\n        });\n        if (!prevNode) return;\n        const values = new Set(context.get(\"selectedValue\"));\n        const prevValue = collection2.getNodeValue(prevNode);\n        if (prevValue == null) return;\n        if (values.has(event.id) && values.has(prevValue)) {\n          values.delete(event.id);\n        } else if (!values.has(prevValue)) {\n          values.add(prevValue);\n        }\n        context.set(\"selectedValue\", Array.from(values));\n      },\n      extendSelectionToFirstNode(params) {\n        const {\n          context,\n          prop\n        } = params;\n        const collection2 = prop(\"collection\");\n        const currentSelection = first(context.get(\"selectedValue\"));\n        const values = [];\n        collection2.visit({\n          skip: skipFn(params),\n          onEnter: node => {\n            const nodeValue = collection2.getNodeValue(node);\n            values.push(nodeValue);\n            if (nodeValue === currentSelection) {\n              return \"stop\";\n            }\n          }\n        });\n        context.set(\"selectedValue\", values);\n      },\n      extendSelectionToLastNode(params) {\n        const {\n          context,\n          prop\n        } = params;\n        const collection2 = prop(\"collection\");\n        const currentSelection = first(context.get(\"selectedValue\"));\n        const values = [];\n        let current = false;\n        collection2.visit({\n          skip: skipFn(params),\n          onEnter: node => {\n            const nodeValue = collection2.getNodeValue(node);\n            if (nodeValue === currentSelection) current = true;\n            if (current) values.push(nodeValue);\n          }\n        });\n        context.set(\"selectedValue\", values);\n      },\n      clearPendingAborts({\n        refs\n      }) {\n        const aborts = refs.get(\"pendingAborts\");\n        aborts.forEach(abort => abort.abort());\n        aborts.clear();\n      },\n      toggleChecked({\n        context,\n        event,\n        prop\n      }) {\n        const collection2 = prop(\"collection\");\n        context.set(\"checkedValue\", prev => event.isBranch ? toggleBranchChecked(collection2, event.value, prev) : addOrRemove(prev, event.value));\n      },\n      setChecked({\n        context,\n        event\n      }) {\n        context.set(\"checkedValue\", event.value);\n      },\n      clearChecked({\n        context\n      }) {\n        context.set(\"checkedValue\", []);\n      }\n    }\n  }\n});\nvar props = createProps()([\"ids\", \"collection\", \"dir\", \"expandedValue\", \"expandOnClick\", \"defaultFocusedValue\", \"focusedValue\", \"getRootNode\", \"id\", \"onExpandedChange\", \"onFocusChange\", \"onSelectionChange\", \"checkedValue\", \"selectedValue\", \"selectionMode\", \"typeahead\", \"defaultExpandedValue\", \"defaultSelectedValue\", \"defaultCheckedValue\", \"onCheckedChange\", \"onLoadChildrenComplete\", \"onLoadChildrenError\", \"loadChildren\"]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"node\", \"indexPath\"]);\nvar splitItemProps = createSplitProps(itemProps);\nexport { anatomy, collection, connect, filePathCollection, itemProps, machine, props, splitItemProps, splitProps };","map":{"version":3,"names":["createAnatomy","TreeCollection","filePathToTree","getByTypeahead","dataAttr","isLeftClick","ariaAttr","isAnchorElement","isModifierKey","isComposingEvent","getEventTarget","isEditableElement","getEventKey","addOrRemove","first","uniq","diff","isArray","toArray","remove","last","isEqual","createSplitProps","add","partition","ensure","createGuards","createMachine","createProps","anatomy","parts","build","collection","options","empty","rootNode","children","filePathCollection","paths","getRootId","ctx","ids","root","id","getLabelId","label","getNodeId","value","node","getTreeId","tree","focusNode","nodeId","getById","focus","preventScroll","getCheckedState","collection2","checkedValue","getNodeValue","isBranchNode","includes","childValues","getDescendantValues","allChecked","every","v","someChecked","some","toggleBranchChecked","child","getCheckedValueMap","map","Map","visit","onEnter","isBranch","checked","set","type","connect","service","normalize","context","scope","computed","prop","send","expandedValue","Array","from","get","selectedValue","isTypingAhead","focusedValue","loadingStatus","getNodeState","props2","indexPath","firstNode","getFirstNode","firstNodeValue","valuePath","getValuePath","disabled","Boolean","focused","selected","expanded","loading","depth","length","toggleChecked","setChecked","clearChecked","getCheckedMap","expand","collapse","deselect","select","isTrusted","getVisibleNodes","selectParent","parentNode","getParentNode","_selectedValue","src","expandParent","_expandedValue","setExpandedValue","setSelectedValue","getRootProps","element","attrs","dir","getLabelProps","getTreeProps","role","tabIndex","onKeyDown","event","defaultPrevented","target","closest","dataset","console","warn","matches","keyMap","ArrowDown","event2","preventDefault","shiftKey","ArrowUp","ArrowLeft","ArrowRight","Home","End","Space","key","Enter","*","a","metaKey","moveFocus","exec","isValidEvent","getItemProps","nodeState","item","join","style","onFocus","stopPropagation","onClick","currentTarget","isMetaKey","ctrlKey","getItemTextProps","itemState","itemText","getItemIndicatorProps","itemIndicator","hidden","getBranchProps","branch","getBranchIndicatorProps","branchIndicator","getBranchTriggerProps","branchTrigger","getBranchControlProps","branchControl","getBranchTextProps","branchText","getBranchContentProps","branchContent","getBranchIndentGuideProps","branchIndentGuide","getNodeCheckboxProps","checkedState","nodeCheckbox","expandBranches","params","values","refs","prev","loadedValues","loadingValues","nodeWithChildren","nodeWithoutChildren","findNode","getNodeChildren","reduce","acc","nodesToLoad","getIndexPath","pendingAborts","loadChildren","proms","existingAbort","abort","delete","abortController","AbortController","signal","Promise","allSettled","then","results","loadedValues2","nodeWithErrors","nextLoadingStatus","collection3","forEach","result","index","status","push","replace","Reflect","deleteProperty","error","reason","nodes","skipFn","skip","slice","and","machine","props","selectionMode","typeahead","expandOnClick","defaultExpandedValue","defaultSelectedValue","initialState","bindable","getContext","defaultValue","onChange","expandedNodes","findNodes","selectedNodes","focusedNode","typeaheadState","defaultOptions","isMultipleSelection","keysSoFar","visibleNodes","on","actions","guard","exit","states","idle","implementations","guards","isBranchFocused","isBranchExpanded","isShiftKey","isCtrlKey","hasSelectedItems","selectNode","concat","filter","deselectNode","setFocusedNode","clearFocusedNode","clearSelectedItem","toggleBranchNode","action","isExpanded","expandBranch","valuesToExpand","collapseBranch","collapseBranches","setExpanded","clearExpanded","setSelected","clearSelected","focusTreeFirstNode","firstValue","focusTreeLastNode","lastNode","getLastNode","lastValue","focusBranchFirstNode","branchNode","focusTreeNextNode","nextNode","getNextNode","nextValue","focusTreePrevNode","prevNode","getPreviousNode","prevValue","focusBranchNode","parentValue","selectAllNodes","getValues","focusMatchedNode","elements","node2","textContent","stringifyNode","state","activeId","toggleNodeSelection","expandAllBranches","branchValues","getBranchValues","expandSiblingBranches","getSiblingNodes","extendSelectionToNode","anchorValue","targetValue","hits","nodeValue","extendSelectionToNextNode","Set","has","extendSelectionToPrevNode","extendSelectionToFirstNode","currentSelection","extendSelectionToLastNode","current","clearPendingAborts","aborts","clear","splitProps","itemProps","splitItemProps"],"sources":["/Users/sofia-kalpin/Documents/Facu/ADR/Frontend/inmobiliaria-frontend/node_modules/@zag-js/tree-view/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { TreeCollection, filePathToTree } from '@zag-js/collection';\nimport { getByTypeahead, dataAttr, isLeftClick, ariaAttr, isAnchorElement, isModifierKey, isComposingEvent, getEventTarget, isEditableElement, getEventKey } from '@zag-js/dom-query';\nimport { addOrRemove, first, uniq, diff, isArray, toArray, remove, last, isEqual, createSplitProps, add, partition, ensure } from '@zag-js/utils';\nimport { createGuards, createMachine } from '@zag-js/core';\nimport { createProps } from '@zag-js/types';\n\n// src/tree-view.anatomy.ts\nvar anatomy = createAnatomy(\"tree-view\").parts(\n  \"branch\",\n  \"branchContent\",\n  \"branchControl\",\n  \"branchIndentGuide\",\n  \"branchIndicator\",\n  \"branchText\",\n  \"branchTrigger\",\n  \"item\",\n  \"itemIndicator\",\n  \"itemText\",\n  \"label\",\n  \"nodeCheckbox\",\n  \"root\",\n  \"tree\"\n);\nvar parts = anatomy.build();\nvar collection = (options) => {\n  return new TreeCollection(options);\n};\ncollection.empty = () => {\n  return new TreeCollection({ rootNode: { children: [] } });\n};\nfunction filePathCollection(paths) {\n  return filePathToTree(paths);\n}\n\n// src/tree-view.dom.ts\nvar getRootId = (ctx) => ctx.ids?.root ?? `tree:${ctx.id}:root`;\nvar getLabelId = (ctx) => ctx.ids?.label ?? `tree:${ctx.id}:label`;\nvar getNodeId = (ctx, value) => ctx.ids?.node?.(value) ?? `tree:${ctx.id}:node:${value}`;\nvar getTreeId = (ctx) => ctx.ids?.tree ?? `tree:${ctx.id}:tree`;\nvar focusNode = (ctx, value) => {\n  if (value == null) return;\n  const nodeId = getNodeId(ctx, value);\n  ctx.getById(nodeId)?.focus({ preventScroll: true });\n};\nfunction getCheckedState(collection2, node, checkedValue) {\n  const value = collection2.getNodeValue(node);\n  if (!collection2.isBranchNode(node)) {\n    return checkedValue.includes(value);\n  }\n  const childValues = collection2.getDescendantValues(value);\n  const allChecked = childValues.every((v) => checkedValue.includes(v));\n  const someChecked = childValues.some((v) => checkedValue.includes(v));\n  return allChecked ? true : someChecked ? \"indeterminate\" : false;\n}\nfunction toggleBranchChecked(collection2, value, checkedValue) {\n  const childValues = collection2.getDescendantValues(value);\n  const allChecked = childValues.every((child) => checkedValue.includes(child));\n  return uniq(allChecked ? remove(checkedValue, ...childValues) : add(checkedValue, ...childValues));\n}\nfunction getCheckedValueMap(collection2, checkedValue) {\n  const map = /* @__PURE__ */ new Map();\n  collection2.visit({\n    onEnter: (node) => {\n      const value = collection2.getNodeValue(node);\n      const isBranch = collection2.isBranchNode(node);\n      const checked = getCheckedState(collection2, node, checkedValue);\n      map.set(value, {\n        type: isBranch ? \"branch\" : \"leaf\",\n        checked\n      });\n    }\n  });\n  return map;\n}\n\n// src/tree-view.connect.ts\nfunction connect(service, normalize) {\n  const { context, scope, computed, prop, send } = service;\n  const collection2 = prop(\"collection\");\n  const expandedValue = Array.from(context.get(\"expandedValue\"));\n  const selectedValue = Array.from(context.get(\"selectedValue\"));\n  const checkedValue = Array.from(context.get(\"checkedValue\"));\n  const isTypingAhead = computed(\"isTypingAhead\");\n  const focusedValue = context.get(\"focusedValue\");\n  const loadingStatus = context.get(\"loadingStatus\");\n  function getNodeState(props2) {\n    const { node, indexPath } = props2;\n    const value = collection2.getNodeValue(node);\n    const firstNode = collection2.getFirstNode();\n    const firstNodeValue = firstNode ? collection2.getNodeValue(firstNode) : null;\n    return {\n      id: getNodeId(scope, value),\n      value,\n      indexPath,\n      valuePath: collection2.getValuePath(indexPath),\n      disabled: Boolean(node.disabled),\n      focused: focusedValue == null ? firstNodeValue == value : focusedValue === value,\n      selected: selectedValue.includes(value),\n      expanded: expandedValue.includes(value),\n      loading: loadingStatus[value] === \"loading\",\n      depth: indexPath.length,\n      isBranch: collection2.isBranchNode(node),\n      get checked() {\n        return getCheckedState(collection2, node, checkedValue);\n      }\n    };\n  }\n  return {\n    collection: collection2,\n    expandedValue,\n    selectedValue,\n    checkedValue,\n    toggleChecked(value, isBranch) {\n      send({ type: \"CHECKED.TOGGLE\", value, isBranch });\n    },\n    setChecked(value) {\n      send({ type: \"CHECKED.SET\", value });\n    },\n    clearChecked() {\n      send({ type: \"CHECKED.CLEAR\" });\n    },\n    getCheckedMap() {\n      return getCheckedValueMap(collection2, checkedValue);\n    },\n    expand(value) {\n      send({ type: value ? \"BRANCH.EXPAND\" : \"EXPANDED.ALL\", value });\n    },\n    collapse(value) {\n      send({ type: value ? \"BRANCH.COLLAPSE\" : \"EXPANDED.CLEAR\", value });\n    },\n    deselect(value) {\n      send({ type: value ? \"NODE.DESELECT\" : \"SELECTED.CLEAR\", value });\n    },\n    select(value) {\n      send({ type: value ? \"NODE.SELECT\" : \"SELECTED.ALL\", value, isTrusted: false });\n    },\n    getVisibleNodes() {\n      return computed(\"visibleNodes\").map(({ node }) => node);\n    },\n    focus(value) {\n      focusNode(scope, value);\n    },\n    selectParent(value) {\n      const parentNode = collection2.getParentNode(value);\n      if (!parentNode) return;\n      const _selectedValue = add(selectedValue, collection2.getNodeValue(parentNode));\n      send({ type: \"SELECTED.SET\", value: _selectedValue, src: \"select.parent\" });\n    },\n    expandParent(value) {\n      const parentNode = collection2.getParentNode(value);\n      if (!parentNode) return;\n      const _expandedValue = add(expandedValue, collection2.getNodeValue(parentNode));\n      send({ type: \"EXPANDED.SET\", value: _expandedValue, src: \"expand.parent\" });\n    },\n    setExpandedValue(value) {\n      const _expandedValue = uniq(value);\n      send({ type: \"EXPANDED.SET\", value: _expandedValue });\n    },\n    setSelectedValue(value) {\n      const _selectedValue = uniq(value);\n      send({ type: \"SELECTED.SET\", value: _selectedValue });\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        id: getRootId(scope),\n        dir: prop(\"dir\")\n      });\n    },\n    getLabelProps() {\n      return normalize.element({\n        ...parts.label.attrs,\n        id: getLabelId(scope),\n        dir: prop(\"dir\")\n      });\n    },\n    getTreeProps() {\n      return normalize.element({\n        ...parts.tree.attrs,\n        id: getTreeId(scope),\n        dir: prop(\"dir\"),\n        role: \"tree\",\n        \"aria-label\": \"Tree View\",\n        \"aria-labelledby\": getLabelId(scope),\n        \"aria-multiselectable\": prop(\"selectionMode\") === \"multiple\" || void 0,\n        tabIndex: -1,\n        onKeyDown(event) {\n          if (event.defaultPrevented) return;\n          if (isComposingEvent(event)) return;\n          const target = getEventTarget(event);\n          if (isEditableElement(target)) return;\n          const node = target?.closest(\"[data-part=branch-control], [data-part=item]\");\n          if (!node) return;\n          const nodeId = node.dataset.value;\n          if (nodeId == null) {\n            console.warn(`[zag-js/tree-view] Node id not found for node`, node);\n            return;\n          }\n          const isBranchNode = node.matches(\"[data-part=branch-control]\");\n          const keyMap = {\n            ArrowDown(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({ type: \"NODE.ARROW_DOWN\", id: nodeId, shiftKey: event2.shiftKey });\n            },\n            ArrowUp(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({ type: \"NODE.ARROW_UP\", id: nodeId, shiftKey: event2.shiftKey });\n            },\n            ArrowLeft(event2) {\n              if (isModifierKey(event2) || node.dataset.disabled) return;\n              event2.preventDefault();\n              send({ type: isBranchNode ? \"BRANCH_NODE.ARROW_LEFT\" : \"NODE.ARROW_LEFT\", id: nodeId });\n            },\n            ArrowRight(event2) {\n              if (!isBranchNode || node.dataset.disabled) return;\n              event2.preventDefault();\n              send({ type: \"BRANCH_NODE.ARROW_RIGHT\", id: nodeId });\n            },\n            Home(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({ type: \"NODE.HOME\", id: nodeId, shiftKey: event2.shiftKey });\n            },\n            End(event2) {\n              if (isModifierKey(event2)) return;\n              event2.preventDefault();\n              send({ type: \"NODE.END\", id: nodeId, shiftKey: event2.shiftKey });\n            },\n            Space(event2) {\n              if (node.dataset.disabled) return;\n              if (isTypingAhead) {\n                send({ type: \"TREE.TYPEAHEAD\", key: event2.key });\n              } else {\n                keyMap.Enter?.(event2);\n              }\n            },\n            Enter(event2) {\n              if (node.dataset.disabled) return;\n              if (isAnchorElement(target) && isModifierKey(event2)) return;\n              send({ type: isBranchNode ? \"BRANCH_NODE.CLICK\" : \"NODE.CLICK\", id: nodeId, src: \"keyboard\" });\n              if (!isAnchorElement(target)) {\n                event2.preventDefault();\n              }\n            },\n            \"*\"(event2) {\n              if (node.dataset.disabled) return;\n              event2.preventDefault();\n              send({ type: \"SIBLINGS.EXPAND\", id: nodeId });\n            },\n            a(event2) {\n              if (!event2.metaKey || node.dataset.disabled) return;\n              event2.preventDefault();\n              send({ type: \"SELECTED.ALL\", moveFocus: true });\n            }\n          };\n          const key = getEventKey(event, { dir: prop(\"dir\") });\n          const exec = keyMap[key];\n          if (exec) {\n            exec(event);\n            return;\n          }\n          if (!getByTypeahead.isValidEvent(event)) return;\n          send({ type: \"TREE.TYPEAHEAD\", key: event.key, id: nodeId });\n          event.preventDefault();\n        }\n      });\n    },\n    getNodeState,\n    getItemProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.item.attrs,\n        id: nodeState.id,\n        dir: prop(\"dir\"),\n        \"data-ownedby\": getTreeId(scope),\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-value\": nodeState.value,\n        tabIndex: nodeState.focused ? 0 : -1,\n        \"data-focus\": dataAttr(nodeState.focused),\n        role: \"treeitem\",\n        \"aria-current\": nodeState.selected ? \"true\" : void 0,\n        \"aria-selected\": nodeState.disabled ? void 0 : nodeState.selected,\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"aria-disabled\": ariaAttr(nodeState.disabled),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"aria-level\": nodeState.depth,\n        \"data-depth\": nodeState.depth,\n        style: {\n          \"--depth\": nodeState.depth\n        },\n        onFocus(event) {\n          event.stopPropagation();\n          send({ type: \"NODE.FOCUS\", id: nodeState.value });\n        },\n        onClick(event) {\n          if (nodeState.disabled) return;\n          if (!isLeftClick(event)) return;\n          if (isAnchorElement(event.currentTarget) && isModifierKey(event)) return;\n          const isMetaKey = event.metaKey || event.ctrlKey;\n          send({ type: \"NODE.CLICK\", id: nodeState.value, shiftKey: event.shiftKey, ctrlKey: isMetaKey });\n          event.stopPropagation();\n          if (!isAnchorElement(event.currentTarget)) {\n            event.preventDefault();\n          }\n        }\n      });\n    },\n    getItemTextProps(props2) {\n      const itemState = getNodeState(props2);\n      return normalize.element({\n        ...parts.itemText.attrs,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-selected\": dataAttr(itemState.selected),\n        \"data-focus\": dataAttr(itemState.focused)\n      });\n    },\n    getItemIndicatorProps(props2) {\n      const itemState = getNodeState(props2);\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        \"aria-hidden\": true,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-selected\": dataAttr(itemState.selected),\n        \"data-focus\": dataAttr(itemState.focused),\n        hidden: !itemState.selected\n      });\n    },\n    getBranchProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branch.attrs,\n        \"data-depth\": nodeState.depth,\n        dir: prop(\"dir\"),\n        \"data-branch\": nodeState.value,\n        role: \"treeitem\",\n        \"data-ownedby\": getTreeId(scope),\n        \"data-value\": nodeState.value,\n        \"aria-level\": nodeState.depth,\n        \"aria-selected\": nodeState.disabled ? void 0 : nodeState.selected,\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"aria-expanded\": nodeState.expanded,\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"aria-disabled\": ariaAttr(nodeState.disabled),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-loading\": dataAttr(nodeState.loading),\n        \"aria-busy\": ariaAttr(nodeState.loading),\n        style: {\n          \"--depth\": nodeState.depth\n        }\n      });\n    },\n    getBranchIndicatorProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchIndicator.attrs,\n        \"aria-hidden\": true,\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"data-focus\": dataAttr(nodeState.focused),\n        \"data-loading\": dataAttr(nodeState.loading)\n      });\n    },\n    getBranchTriggerProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchTrigger.attrs,\n        role: \"button\",\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-value\": nodeState.value,\n        \"data-loading\": dataAttr(nodeState.loading),\n        disabled: nodeState.loading,\n        onClick(event) {\n          if (nodeState.disabled || nodeState.loading) return;\n          send({ type: \"BRANCH_TOGGLE.CLICK\", id: nodeState.value });\n          event.stopPropagation();\n        }\n      });\n    },\n    getBranchControlProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchControl.attrs,\n        role: \"button\",\n        id: nodeState.id,\n        dir: prop(\"dir\"),\n        tabIndex: nodeState.focused ? 0 : -1,\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-selected\": dataAttr(nodeState.selected),\n        \"data-focus\": dataAttr(nodeState.focused),\n        \"data-value\": nodeState.value,\n        \"data-depth\": nodeState.depth,\n        \"data-loading\": dataAttr(nodeState.loading),\n        \"aria-busy\": ariaAttr(nodeState.loading),\n        onFocus(event) {\n          send({ type: \"NODE.FOCUS\", id: nodeState.value });\n          event.stopPropagation();\n        },\n        onClick(event) {\n          if (nodeState.disabled) return;\n          if (nodeState.loading) return;\n          if (!isLeftClick(event)) return;\n          if (isAnchorElement(event.currentTarget) && isModifierKey(event)) return;\n          const isMetaKey = event.metaKey || event.ctrlKey;\n          send({ type: \"BRANCH_NODE.CLICK\", id: nodeState.value, shiftKey: event.shiftKey, ctrlKey: isMetaKey });\n          event.stopPropagation();\n        }\n      });\n    },\n    getBranchTextProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchText.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-loading\": dataAttr(nodeState.loading)\n      });\n    },\n    getBranchContentProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchContent.attrs,\n        role: \"group\",\n        dir: prop(\"dir\"),\n        \"data-state\": nodeState.expanded ? \"open\" : \"closed\",\n        \"data-depth\": nodeState.depth,\n        \"data-path\": props2.indexPath.join(\"/\"),\n        \"data-value\": nodeState.value,\n        hidden: !nodeState.expanded\n      });\n    },\n    getBranchIndentGuideProps(props2) {\n      const nodeState = getNodeState(props2);\n      return normalize.element({\n        ...parts.branchIndentGuide.attrs,\n        \"data-depth\": nodeState.depth\n      });\n    },\n    getNodeCheckboxProps(props2) {\n      const nodeState = getNodeState(props2);\n      const checkedState = nodeState.checked;\n      return normalize.element({\n        ...parts.nodeCheckbox.attrs,\n        tabIndex: -1,\n        role: \"checkbox\",\n        \"data-state\": checkedState === true ? \"checked\" : checkedState === false ? \"unchecked\" : \"indeterminate\",\n        \"aria-checked\": checkedState === true ? \"true\" : checkedState === false ? \"false\" : \"mixed\",\n        \"data-disabled\": dataAttr(nodeState.disabled),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (nodeState.disabled) return;\n          if (!isLeftClick(event)) return;\n          send({ type: \"CHECKED.TOGGLE\", value: nodeState.value, isBranch: nodeState.isBranch });\n          event.stopPropagation();\n          const node = event.currentTarget.closest(\"[role=treeitem]\");\n          node?.focus({ preventScroll: true });\n        }\n      });\n    }\n  };\n}\nfunction expandBranches(params, values) {\n  const { context, prop, refs } = params;\n  if (!prop(\"loadChildren\")) {\n    context.set(\"expandedValue\", (prev) => uniq(add(prev, ...values)));\n    return;\n  }\n  const loadingStatus = context.get(\"loadingStatus\");\n  const [loadedValues, loadingValues] = partition(values, (value) => loadingStatus[value] === \"loaded\");\n  if (loadedValues.length > 0) {\n    context.set(\"expandedValue\", (prev) => uniq(add(prev, ...loadedValues)));\n  }\n  if (loadingValues.length === 0) return;\n  const collection2 = prop(\"collection\");\n  const [nodeWithChildren, nodeWithoutChildren] = partition(loadingValues, (id) => {\n    const node = collection2.findNode(id);\n    return collection2.getNodeChildren(node).length > 0;\n  });\n  if (nodeWithChildren.length > 0) {\n    context.set(\"expandedValue\", (prev) => uniq(add(prev, ...nodeWithChildren)));\n  }\n  if (nodeWithoutChildren.length === 0) return;\n  context.set(\"loadingStatus\", (prev) => ({\n    ...prev,\n    ...nodeWithoutChildren.reduce((acc, id) => ({ ...acc, [id]: \"loading\" }), {})\n  }));\n  const nodesToLoad = nodeWithoutChildren.map((id) => {\n    const indexPath = collection2.getIndexPath(id);\n    const valuePath = collection2.getValuePath(indexPath);\n    const node = collection2.findNode(id);\n    return { id, indexPath, valuePath, node };\n  });\n  const pendingAborts = refs.get(\"pendingAborts\");\n  const loadChildren = prop(\"loadChildren\");\n  ensure(loadChildren, () => \"[zag-js/tree-view] `loadChildren` is required for async expansion\");\n  const proms = nodesToLoad.map(({ id, indexPath, valuePath, node }) => {\n    const existingAbort = pendingAborts.get(id);\n    if (existingAbort) {\n      existingAbort.abort();\n      pendingAborts.delete(id);\n    }\n    const abortController = new AbortController();\n    pendingAborts.set(id, abortController);\n    return loadChildren({\n      valuePath,\n      indexPath,\n      node,\n      signal: abortController.signal\n    });\n  });\n  Promise.allSettled(proms).then((results) => {\n    const loadedValues2 = [];\n    const nodeWithErrors = [];\n    const nextLoadingStatus = context.get(\"loadingStatus\");\n    let collection3 = prop(\"collection\");\n    results.forEach((result, index) => {\n      const { id, indexPath, node, valuePath } = nodesToLoad[index];\n      if (result.status === \"fulfilled\") {\n        nextLoadingStatus[id] = \"loaded\";\n        loadedValues2.push(id);\n        collection3 = collection3.replace(indexPath, { ...node, children: result.value });\n      } else {\n        pendingAborts.delete(id);\n        Reflect.deleteProperty(nextLoadingStatus, id);\n        nodeWithErrors.push({ node, error: result.reason, indexPath, valuePath });\n      }\n    });\n    context.set(\"loadingStatus\", nextLoadingStatus);\n    if (loadedValues2.length) {\n      context.set(\"expandedValue\", (prev) => uniq(add(prev, ...loadedValues2)));\n      prop(\"onLoadChildrenComplete\")?.({ collection: collection3 });\n    }\n    if (nodeWithErrors.length) {\n      prop(\"onLoadChildrenError\")?.({ nodes: nodeWithErrors });\n    }\n  });\n}\n\n// src/utils/visit-skip.ts\nfunction skipFn(params) {\n  const { prop, context } = params;\n  return function skip({ indexPath }) {\n    const paths = prop(\"collection\").getValuePath(indexPath).slice(0, -1);\n    return paths.some((value) => !context.get(\"expandedValue\").includes(value));\n  };\n}\n\n// src/tree-view.machine.ts\nvar { and } = createGuards();\nvar machine = createMachine({\n  props({ props: props2 }) {\n    return {\n      selectionMode: \"single\",\n      collection: collection.empty(),\n      typeahead: true,\n      expandOnClick: true,\n      defaultExpandedValue: [],\n      defaultSelectedValue: [],\n      ...props2\n    };\n  },\n  initialState() {\n    return \"idle\";\n  },\n  context({ prop, bindable, getContext }) {\n    return {\n      expandedValue: bindable(() => ({\n        defaultValue: prop(\"defaultExpandedValue\"),\n        value: prop(\"expandedValue\"),\n        isEqual,\n        onChange(expandedValue) {\n          const ctx = getContext();\n          const focusedValue = ctx.get(\"focusedValue\");\n          prop(\"onExpandedChange\")?.({\n            expandedValue,\n            focusedValue,\n            get expandedNodes() {\n              return prop(\"collection\").findNodes(expandedValue);\n            }\n          });\n        }\n      })),\n      selectedValue: bindable(() => ({\n        defaultValue: prop(\"defaultSelectedValue\"),\n        value: prop(\"selectedValue\"),\n        isEqual,\n        onChange(selectedValue) {\n          const ctx = getContext();\n          const focusedValue = ctx.get(\"focusedValue\");\n          prop(\"onSelectionChange\")?.({\n            selectedValue,\n            focusedValue,\n            get selectedNodes() {\n              return prop(\"collection\").findNodes(selectedValue);\n            }\n          });\n        }\n      })),\n      focusedValue: bindable(() => ({\n        defaultValue: prop(\"defaultFocusedValue\") || null,\n        value: prop(\"focusedValue\"),\n        onChange(focusedValue) {\n          prop(\"onFocusChange\")?.({\n            focusedValue,\n            get focusedNode() {\n              return focusedValue ? prop(\"collection\").findNode(focusedValue) : null;\n            }\n          });\n        }\n      })),\n      loadingStatus: bindable(() => ({\n        defaultValue: {}\n      })),\n      checkedValue: bindable(() => ({\n        defaultValue: prop(\"defaultCheckedValue\") || [],\n        value: prop(\"checkedValue\"),\n        isEqual,\n        onChange(value) {\n          prop(\"onCheckedChange\")?.({ checkedValue: value });\n        }\n      }))\n    };\n  },\n  refs() {\n    return {\n      typeaheadState: { ...getByTypeahead.defaultOptions },\n      pendingAborts: /* @__PURE__ */ new Map()\n    };\n  },\n  computed: {\n    isMultipleSelection: ({ prop }) => prop(\"selectionMode\") === \"multiple\",\n    isTypingAhead: ({ refs }) => refs.get(\"typeaheadState\").keysSoFar.length > 0,\n    visibleNodes: ({ prop, context }) => {\n      const nodes = [];\n      prop(\"collection\").visit({\n        skip: skipFn({ prop, context }),\n        onEnter: (node, indexPath) => {\n          nodes.push({ node, indexPath });\n        }\n      });\n      return nodes;\n    }\n  },\n  on: {\n    \"EXPANDED.SET\": {\n      actions: [\"setExpanded\"]\n    },\n    \"EXPANDED.CLEAR\": {\n      actions: [\"clearExpanded\"]\n    },\n    \"EXPANDED.ALL\": {\n      actions: [\"expandAllBranches\"]\n    },\n    \"BRANCH.EXPAND\": {\n      actions: [\"expandBranches\"]\n    },\n    \"BRANCH.COLLAPSE\": {\n      actions: [\"collapseBranches\"]\n    },\n    \"SELECTED.SET\": {\n      actions: [\"setSelected\"]\n    },\n    \"SELECTED.ALL\": [\n      {\n        guard: and(\"isMultipleSelection\", \"moveFocus\"),\n        actions: [\"selectAllNodes\", \"focusTreeLastNode\"]\n      },\n      {\n        guard: \"isMultipleSelection\",\n        actions: [\"selectAllNodes\"]\n      }\n    ],\n    \"SELECTED.CLEAR\": {\n      actions: [\"clearSelected\"]\n    },\n    \"NODE.SELECT\": {\n      actions: [\"selectNode\"]\n    },\n    \"NODE.DESELECT\": {\n      actions: [\"deselectNode\"]\n    },\n    \"CHECKED.TOGGLE\": {\n      actions: [\"toggleChecked\"]\n    },\n    \"CHECKED.SET\": {\n      actions: [\"setChecked\"]\n    },\n    \"CHECKED.CLEAR\": {\n      actions: [\"clearChecked\"]\n    }\n  },\n  exit: [\"clearPendingAborts\"],\n  states: {\n    idle: {\n      on: {\n        \"NODE.FOCUS\": {\n          actions: [\"setFocusedNode\"]\n        },\n        \"NODE.ARROW_DOWN\": [\n          {\n            guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n            actions: [\"focusTreeNextNode\", \"extendSelectionToNextNode\"]\n          },\n          {\n            actions: [\"focusTreeNextNode\"]\n          }\n        ],\n        \"NODE.ARROW_UP\": [\n          {\n            guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n            actions: [\"focusTreePrevNode\", \"extendSelectionToPrevNode\"]\n          },\n          {\n            actions: [\"focusTreePrevNode\"]\n          }\n        ],\n        \"NODE.ARROW_LEFT\": {\n          actions: [\"focusBranchNode\"]\n        },\n        \"BRANCH_NODE.ARROW_LEFT\": [\n          {\n            guard: \"isBranchExpanded\",\n            actions: [\"collapseBranch\"]\n          },\n          {\n            actions: [\"focusBranchNode\"]\n          }\n        ],\n        \"BRANCH_NODE.ARROW_RIGHT\": [\n          {\n            guard: and(\"isBranchFocused\", \"isBranchExpanded\"),\n            actions: [\"focusBranchFirstNode\"]\n          },\n          {\n            actions: [\"expandBranch\"]\n          }\n        ],\n        \"SIBLINGS.EXPAND\": {\n          actions: [\"expandSiblingBranches\"]\n        },\n        \"NODE.HOME\": [\n          {\n            guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n            actions: [\"extendSelectionToFirstNode\", \"focusTreeFirstNode\"]\n          },\n          {\n            actions: [\"focusTreeFirstNode\"]\n          }\n        ],\n        \"NODE.END\": [\n          {\n            guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n            actions: [\"extendSelectionToLastNode\", \"focusTreeLastNode\"]\n          },\n          {\n            actions: [\"focusTreeLastNode\"]\n          }\n        ],\n        \"NODE.CLICK\": [\n          {\n            guard: and(\"isCtrlKey\", \"isMultipleSelection\"),\n            actions: [\"toggleNodeSelection\"]\n          },\n          {\n            guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n            actions: [\"extendSelectionToNode\"]\n          },\n          {\n            actions: [\"selectNode\"]\n          }\n        ],\n        \"BRANCH_NODE.CLICK\": [\n          {\n            guard: and(\"isCtrlKey\", \"isMultipleSelection\"),\n            actions: [\"toggleNodeSelection\"]\n          },\n          {\n            guard: and(\"isShiftKey\", \"isMultipleSelection\"),\n            actions: [\"extendSelectionToNode\"]\n          },\n          {\n            guard: \"expandOnClick\",\n            actions: [\"selectNode\", \"toggleBranchNode\"]\n          },\n          {\n            actions: [\"selectNode\"]\n          }\n        ],\n        \"BRANCH_TOGGLE.CLICK\": {\n          actions: [\"toggleBranchNode\"]\n        },\n        \"TREE.TYPEAHEAD\": {\n          actions: [\"focusMatchedNode\"]\n        }\n      }\n    }\n  },\n  implementations: {\n    guards: {\n      isBranchFocused: ({ context, event }) => context.get(\"focusedValue\") === event.id,\n      isBranchExpanded: ({ context, event }) => context.get(\"expandedValue\").includes(event.id),\n      isShiftKey: ({ event }) => event.shiftKey,\n      isCtrlKey: ({ event }) => event.ctrlKey,\n      hasSelectedItems: ({ context }) => context.get(\"selectedValue\").length > 0,\n      isMultipleSelection: ({ prop }) => prop(\"selectionMode\") === \"multiple\",\n      moveFocus: ({ event }) => !!event.moveFocus,\n      expandOnClick: ({ prop }) => !!prop(\"expandOnClick\")\n    },\n    actions: {\n      selectNode({ context, event }) {\n        const value = event.id || event.value;\n        context.set(\"selectedValue\", (prev) => {\n          if (value == null) return prev;\n          if (!event.isTrusted && isArray(value)) return prev.concat(...value);\n          return [isArray(value) ? last(value) : value].filter(Boolean);\n        });\n      },\n      deselectNode({ context, event }) {\n        const value = toArray(event.id || event.value);\n        context.set(\"selectedValue\", (prev) => remove(prev, ...value));\n      },\n      setFocusedNode({ context, event }) {\n        context.set(\"focusedValue\", event.id);\n      },\n      clearFocusedNode({ context }) {\n        context.set(\"focusedValue\", null);\n      },\n      clearSelectedItem({ context }) {\n        context.set(\"selectedValue\", []);\n      },\n      toggleBranchNode({ context, event, action }) {\n        const isExpanded = context.get(\"expandedValue\").includes(event.id);\n        action(isExpanded ? [\"collapseBranch\"] : [\"expandBranch\"]);\n      },\n      expandBranch(params) {\n        const { event } = params;\n        expandBranches(params, [event.id]);\n      },\n      expandBranches(params) {\n        const { context, event } = params;\n        const valuesToExpand = toArray(event.value);\n        expandBranches(params, diff(valuesToExpand, context.get(\"expandedValue\")));\n      },\n      collapseBranch({ context, event }) {\n        context.set(\"expandedValue\", (prev) => remove(prev, event.id));\n      },\n      collapseBranches(params) {\n        const { context, event } = params;\n        const value = toArray(event.value);\n        context.set(\"expandedValue\", (prev) => remove(prev, ...value));\n      },\n      setExpanded({ context, event }) {\n        if (!isArray(event.value)) return;\n        context.set(\"expandedValue\", event.value);\n      },\n      clearExpanded({ context }) {\n        context.set(\"expandedValue\", []);\n      },\n      setSelected({ context, event }) {\n        if (!isArray(event.value)) return;\n        context.set(\"selectedValue\", event.value);\n      },\n      clearSelected({ context }) {\n        context.set(\"selectedValue\", []);\n      },\n      focusTreeFirstNode({ prop, scope }) {\n        const collection2 = prop(\"collection\");\n        const firstNode = collection2.getFirstNode();\n        const firstValue = collection2.getNodeValue(firstNode);\n        focusNode(scope, firstValue);\n      },\n      focusTreeLastNode(params) {\n        const { prop, scope } = params;\n        const collection2 = prop(\"collection\");\n        const lastNode = collection2.getLastNode(void 0, { skip: skipFn(params) });\n        const lastValue = collection2.getNodeValue(lastNode);\n        focusNode(scope, lastValue);\n      },\n      focusBranchFirstNode({ event, prop, scope }) {\n        const collection2 = prop(\"collection\");\n        const branchNode = collection2.findNode(event.id);\n        const firstNode = collection2.getFirstNode(branchNode);\n        const firstValue = collection2.getNodeValue(firstNode);\n        focusNode(scope, firstValue);\n      },\n      focusTreeNextNode(params) {\n        const { event, prop, scope } = params;\n        const collection2 = prop(\"collection\");\n        const nextNode = collection2.getNextNode(event.id, { skip: skipFn(params) });\n        if (!nextNode) return;\n        const nextValue = collection2.getNodeValue(nextNode);\n        focusNode(scope, nextValue);\n      },\n      focusTreePrevNode(params) {\n        const { event, prop, scope } = params;\n        const collection2 = prop(\"collection\");\n        const prevNode = collection2.getPreviousNode(event.id, { skip: skipFn(params) });\n        if (!prevNode) return;\n        const prevValue = collection2.getNodeValue(prevNode);\n        focusNode(scope, prevValue);\n      },\n      focusBranchNode({ event, prop, scope }) {\n        const collection2 = prop(\"collection\");\n        const parentNode = collection2.getParentNode(event.id);\n        const parentValue = parentNode ? collection2.getNodeValue(parentNode) : void 0;\n        focusNode(scope, parentValue);\n      },\n      selectAllNodes({ context, prop }) {\n        context.set(\"selectedValue\", prop(\"collection\").getValues());\n      },\n      focusMatchedNode(params) {\n        const { context, prop, refs, event, scope, computed } = params;\n        const nodes = computed(\"visibleNodes\");\n        const elements = nodes.map(({ node: node2 }) => ({\n          textContent: prop(\"collection\").stringifyNode(node2),\n          id: prop(\"collection\").getNodeValue(node2)\n        }));\n        const node = getByTypeahead(elements, {\n          state: refs.get(\"typeaheadState\"),\n          activeId: context.get(\"focusedValue\"),\n          key: event.key\n        });\n        focusNode(scope, node?.id);\n      },\n      toggleNodeSelection({ context, event }) {\n        const selectedValue = addOrRemove(context.get(\"selectedValue\"), event.id);\n        context.set(\"selectedValue\", selectedValue);\n      },\n      expandAllBranches(params) {\n        const { context, prop } = params;\n        const branchValues = prop(\"collection\").getBranchValues();\n        const valuesToExpand = diff(branchValues, context.get(\"expandedValue\"));\n        expandBranches(params, valuesToExpand);\n      },\n      expandSiblingBranches(params) {\n        const { context, event, prop } = params;\n        const collection2 = prop(\"collection\");\n        const indexPath = collection2.getIndexPath(event.id);\n        if (!indexPath) return;\n        const nodes = collection2.getSiblingNodes(indexPath);\n        const values = nodes.map((node) => collection2.getNodeValue(node));\n        const valuesToExpand = diff(values, context.get(\"expandedValue\"));\n        expandBranches(params, valuesToExpand);\n      },\n      extendSelectionToNode(params) {\n        const { context, event, prop, computed } = params;\n        const collection2 = prop(\"collection\");\n        const anchorValue = first(context.get(\"selectedValue\")) || collection2.getNodeValue(collection2.getFirstNode());\n        const targetValue = event.id;\n        let values = [anchorValue, targetValue];\n        let hits = 0;\n        const visibleNodes = computed(\"visibleNodes\");\n        visibleNodes.forEach(({ node }) => {\n          const nodeValue = collection2.getNodeValue(node);\n          if (hits === 1) values.push(nodeValue);\n          if (nodeValue === anchorValue || nodeValue === targetValue) hits++;\n        });\n        context.set(\"selectedValue\", uniq(values));\n      },\n      extendSelectionToNextNode(params) {\n        const { context, event, prop } = params;\n        const collection2 = prop(\"collection\");\n        const nextNode = collection2.getNextNode(event.id, { skip: skipFn(params) });\n        if (!nextNode) return;\n        const values = new Set(context.get(\"selectedValue\"));\n        const nextValue = collection2.getNodeValue(nextNode);\n        if (nextValue == null) return;\n        if (values.has(event.id) && values.has(nextValue)) {\n          values.delete(event.id);\n        } else if (!values.has(nextValue)) {\n          values.add(nextValue);\n        }\n        context.set(\"selectedValue\", Array.from(values));\n      },\n      extendSelectionToPrevNode(params) {\n        const { context, event, prop } = params;\n        const collection2 = prop(\"collection\");\n        const prevNode = collection2.getPreviousNode(event.id, { skip: skipFn(params) });\n        if (!prevNode) return;\n        const values = new Set(context.get(\"selectedValue\"));\n        const prevValue = collection2.getNodeValue(prevNode);\n        if (prevValue == null) return;\n        if (values.has(event.id) && values.has(prevValue)) {\n          values.delete(event.id);\n        } else if (!values.has(prevValue)) {\n          values.add(prevValue);\n        }\n        context.set(\"selectedValue\", Array.from(values));\n      },\n      extendSelectionToFirstNode(params) {\n        const { context, prop } = params;\n        const collection2 = prop(\"collection\");\n        const currentSelection = first(context.get(\"selectedValue\"));\n        const values = [];\n        collection2.visit({\n          skip: skipFn(params),\n          onEnter: (node) => {\n            const nodeValue = collection2.getNodeValue(node);\n            values.push(nodeValue);\n            if (nodeValue === currentSelection) {\n              return \"stop\";\n            }\n          }\n        });\n        context.set(\"selectedValue\", values);\n      },\n      extendSelectionToLastNode(params) {\n        const { context, prop } = params;\n        const collection2 = prop(\"collection\");\n        const currentSelection = first(context.get(\"selectedValue\"));\n        const values = [];\n        let current = false;\n        collection2.visit({\n          skip: skipFn(params),\n          onEnter: (node) => {\n            const nodeValue = collection2.getNodeValue(node);\n            if (nodeValue === currentSelection) current = true;\n            if (current) values.push(nodeValue);\n          }\n        });\n        context.set(\"selectedValue\", values);\n      },\n      clearPendingAborts({ refs }) {\n        const aborts = refs.get(\"pendingAborts\");\n        aborts.forEach((abort) => abort.abort());\n        aborts.clear();\n      },\n      toggleChecked({ context, event, prop }) {\n        const collection2 = prop(\"collection\");\n        context.set(\n          \"checkedValue\",\n          (prev) => event.isBranch ? toggleBranchChecked(collection2, event.value, prev) : addOrRemove(prev, event.value)\n        );\n      },\n      setChecked({ context, event }) {\n        context.set(\"checkedValue\", event.value);\n      },\n      clearChecked({ context }) {\n        context.set(\"checkedValue\", []);\n      }\n    }\n  }\n});\nvar props = createProps()([\n  \"ids\",\n  \"collection\",\n  \"dir\",\n  \"expandedValue\",\n  \"expandOnClick\",\n  \"defaultFocusedValue\",\n  \"focusedValue\",\n  \"getRootNode\",\n  \"id\",\n  \"onExpandedChange\",\n  \"onFocusChange\",\n  \"onSelectionChange\",\n  \"checkedValue\",\n  \"selectedValue\",\n  \"selectionMode\",\n  \"typeahead\",\n  \"defaultExpandedValue\",\n  \"defaultSelectedValue\",\n  \"defaultCheckedValue\",\n  \"onCheckedChange\",\n  \"onLoadChildrenComplete\",\n  \"onLoadChildrenError\",\n  \"loadChildren\"\n]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"node\", \"indexPath\"]);\nvar splitItemProps = createSplitProps(itemProps);\n\nexport { anatomy, collection, connect, filePathCollection, itemProps, machine, props, splitItemProps, splitProps };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}